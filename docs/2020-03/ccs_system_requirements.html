<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="CCS System Requirements Introduction This document specifies requirements for operation, verification and validation of Programming Contest Control..."> <meta name="revised" content="eb097467fc085d439699e4c582e8d949d219eefa"> <meta name="author" content="ICPC"> <meta name="generator" content="rundocs/jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>CCS System Requirements · CCS Specs</title> <meta name="twitter:title" content="CCS System Requirements · CCS Specs"> <meta name="twitter:description" content="CCS System Requirements Introduction This document specifies requirements for operation, verification and validation of Programming Contest Control..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@ICPC"> <meta name="twitter:url" content="/2020-03/ccs_system_requirements"> <meta name="twitter:creator" content="@rundocs/jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="CCS System Requirements · CCS Specs"> <meta property="og:description" content="CCS System Requirements Introduction This document specifies requirements for operation, verification and validation of Programming Contest Control..."> <meta property="og:locale" content="en"> <meta property="og:url" content="/2020-03/ccs_system_requirements"> <meta property="og:type" content="article"> <meta property="article:author" content="ICPC"> <meta property="article:published_time" content="2020-10-12T18:33:12+02:00"> <meta property="article:modified_time" content="2023-07-21T19:22:26+02:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "/2020-03/ccs_system_requirements" }, "headline": "CCS System Requirements · CCS Specs", "image": [], "author": { "@type": "Person", "name": "ICPC" }, "datePublished": "2020-10-12T18:33:12+02:00", "dateModified": "2023-07-21T19:22:26+02:00", "publisher": { "@type": "Organization", "name": "ICPC", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/5224374?v=4" } }, "description": "CCS System Requirements Introduction This document specifies requirements for operation, verification and validation of Programming Contest Control..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="next" href="/2020-03/contest_api"><link rel="canonical" href="/2020-03/ccs_system_requirements"><link rel="icon" type="image/svg+xml" href="/2020-03/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/2020-03/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/2020-03/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/2020-03/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/2020-03/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/2020-03/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "CCS Specs", baseurl: "/2020-03", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"> <div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/" title="CCS Specs"> <i class="fa fa-home"></i> CCS Specs </a> </div> <span class="version"></span> <form class="search pt-2" action="/2020-03/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> <li class="toc level-1 " data-sort="0" data-level="1" data-ccs-specs-version-item> <a class="d-flex flex-items-baseline " href="/2020-03/"> </a> </li> <li class="toc level-1 current" data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline current" href="/2020-03/ccs_system_requirements">1. CCS System Requirements</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/2020-03/contest_api">2. Contest API</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/2020-03/contest_archive_format">3. Contest Archive Format</a> </li> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/2020-03/">CCS Specs</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/" title="/"> <i class="fa fa-home"></i> </a> </li> <li class="breadcrumb-item" data-ccs-specs-version-item> <a href="/2020-03/"></a> </li><li class="breadcrumb-item" aria-current="page">CCS System Requirements</li></ul> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="ccs-system-requirements">CCS System Requirements</h1> <h2 id="introduction">Introduction</h2> <p>This document specifies requirements for operation, verification and validation of Programming Contest Control Systems that wish to be considered for managing the operation of the <a href="https://icpc.global">International Collegiate Programming Contest</a> World Finals. The document defines a set of operations, capabilities, and features which any candidate system must provide, including a set of testability criteria which must be satisfied and a set of documentation which must be provided.</p> <p>The current draft of the requirements document is <em>Version 1.0</em>, published <em><!-- raw HTML omitted --></em> by the <em>Competitive Learning Institute</em> (<em><!-- raw HTML omitted --></em>). [TODO: insert into the previous sentence the final publication date once the requirements has been approved; insert official CLI website URL once that has been created.]</p> <p>The primary authors of the document are John Clevenger and Fredrik Niemelä, acting under the auspices of the Competitive Learning Institute (CLI). Contributors to the document include Samir Ashoo, Per Austrin, Troy Boudreau, Tim deBoer, Emma Enström, Mikael Goldman, Gunnar Kreitz, Doug Lane, Pehr Söderman, and Mattias de Zalenski.</p> <h3 id="overview">Overview</h3> <p>For purposes of this requirements document, the term <em>contest control system</em> (CCS) means software which automatically manages the operation of a programming contest. Operations to be managed by the CCS include: running submissions by teams, judging of submissions, handling clarification requests from teams and clarification responses from judges, calculation of standings, generating external representations of contest results, and overall CCS configuration.</p> <p>A contest control system may be submitted to the Director of Operations for the ICPC World Finals for consideration as a candidate to run the World Finals. The items which must be submitted in order to be considered are described under <a href="#documentation-requirements">Documentation Requirements</a> in this document. Any submitted CCS which meets all of the requirements defined in this document will be certified as being accepted as a candidate to run the World Finals. Meeting or failing to meet each requirement will be determined by a test specified by the Director of Operations and/or his/her designee.</p> <p>The choice of the CCS actually used to run the World Finals each year will be made by the Director of Operations from among those CCSs which have been accepted as candidates prior to the acceptance deadline.</p> <h3 id="rationale">Rationale</h3> <p>This document is intended to specify functional requirements, not implementation requirements. Nothing in this document should be construed as requiring any particular implementation architecture or use of any particular implementation language or languages. For example, a CCS might be implemented as a set of stand-alone applications using a client-server architecture, or might equally well be implemented as a set of scripts, web pages, and/or other facilities.</p> <p>These requirements are not intended to act as a specification for what constitutes "best practices" in a Contest Control System; rather, it acts solely as a specification of what functionality is required to be a candidate for running the ICPC World Finals. As such, there may be functions listed in this document which are specific solely to the ICPC World Finals but might not be required for running other contests; a candidate CCS must meet the requirements for these functions.</p> <p>Likewise, there may be functionality which a CCS provides to meet the requirements of some other contest; such additional functionality will not disqualify the CCS from qualifying as a candidate to run the ICPC World Finals provided the CCS meets all the requirements listed in this document.</p> <h2 id="general-requirements">General Requirements</h2> <h3 id="licensing">Licensing</h3> <p>The CCS must either be freely useable, or must be accompanied by a license granting to the ICPC the non-exclusive, non-revocable, non-transferable rights of use of the CCS both for purposes of evaluation and testing and for use in the ICPC World Finals. The CCS may not require obtaining any third-party license in order to be used by the ICPC.</p> <h3 id="data-persistency">Data Persistency</h3> <h4 id="contest-configuration-persistency">Contest Configuration Persistency</h4> <p>The CCS must support persistence of the contest configuration. This means that following a shutdown of the CCS, or a failure on the machine(s) on which the CCS runs, it must be possible to quickly restore the configuration information already entered into the CCS without the necessity of reentering that configuration data.</p> <h4 id="contest-state-persistency">Contest State Persistency</h4> <p>The CCS must support persistence of the contest state once the contest has been started. This means that following a shutdown of the CCS, a power or hardware failure on the machine(s) on which the CCS runs, it must be possible to quickly restore the contest state to what it was prior to the disruption. The contest state for purposes of this requirement includes all data regarding team submissions, clarification requests, clarifications, judgements, and similar data defining and/or affecting the standings of the contest.</p> <p>The CCS must not lose more than 1 minute of contest data on a failure of any part of the contest system.</p> <h3 id="account-types">Account Types</h3> <p>The CCS must support the ability of clients to access the system through different <em>account types</em>.</p> <p>The type of account which a client uses to access the system constrains the functions which the client may perform, as described below.</p> <p>At least the following different types of accounts must be supported:</p> <ul> <li> <p>Team: used by teams competing in the contest. The functions available to team clients are as defined in the section on the <a href="#team-interface">team interface</a>.</p> </li> <li> <p>Judge: used by judges in the contest. The functions available to judge clients are as defined in the section on the <a href="#judge-interface">judge interface</a>.</p> </li> <li> <p>Admin: used by contest administrators. The functions available to admin clients are as defined in the section on the <a href="#admin-interface">admin interface</a>.</p> </li> </ul> <h3 id="secure-authentication">Secure Authentication</h3> <p>The CCS must support a secure authentication mechanism, allowing each registered user (being either a <a href="#team-interface">team</a>, an <a href="#admin-interface">admin</a>, or a <a href="#judge-interface">judge</a>) to gain access to the contest, and must ensure that:</p> <ol> <li>Only users who supply correct authentication credentials may invoke contest-related functions.</li> <li>Users may only invoke functions corresponding to their authentication credentials. (In other words, it must not be possible for, e.g., a team to invoke functions as if they were some other team, or as if they were a judge.)</li> </ol> <p>The CCS may rely on the underlying operating system account login/password mechanism for purposes of meeting the requirements of this section, provided that it is the case that the CCS enforces all of the requirements of this section, including but not limited to the requirement that users not be allowed to invoke functions as if they were some user other than that specified by their login credentials.</p> <h4 id="authentication-data">Authentication Data</h4> <p>If the CCS uses a login/password mechanism to enforce secure authentication, it must support account creation and password assignment according to the following algorithm:</p> <ol> <li>read <a href="#teamstsv">teams.tsv</a> defining team accounts to be created</li> <li>read <a href="#accountstsv">accounts.tsv</a> defining additional accounts to be created or, for teams, specifying the password of the accounts.</li> </ol> <h4 id="logging-out">Logging Out</h4> <p>The CCS must support a mechanism for each user to disconnect from the contest, with the effect that no other user of the computer system not possessing that team's authentication credentials will be able to invoke CCS functions as if they did possess those credentials.</p> <h3 id="network-security">Network Security</h3> <p>All communication between CCS modules which takes place over the contest network must be encrypted.</p> <h3 id="no-outside-contact">No outside contact</h3> <p>The CCS must be able to run at the World Finals site without contact to anything outside the contest network.</p> <h3 id="timestamps-and-ids">Timestamps and IDs</h3> <p>A timestamp and an integer sequence, called an ID, are assigned to submissions and clarification requests at the time they enter the system. The following constraints must be enforced by the CCS:</p> <ul> <li>Submissions received earlier must have a lower ID than submissions received later. The same holds for the IDs of clarification requests.</li> <li>Timestamps must have at least second granularity.</li> </ul> <h3 id="limitations">Limitations</h3> <h4 id="number-of-problems">Number of Problems</h4> <p>The CCS must support at least 15 problems. Specifically any UI, scoreboards or other reports should be fully useable with that number of problems.</p> <h4 id="number-of-teams">Number of Teams</h4> <p>The CCS must support at least 200 teams.</p> <h4 id="test-data-files">Test Data Files</h4> <p>The CCS must support at least 200 test data files per problem, a maximum size of 8GB per test data file and a combined size for all test data files in a problem of 20GB.</p> <h3 id="use-at-the-world-finals">Use At The World Finals</h3> <p>In order for a CCS to be selected for use at the World Finals the following constraints must be satisfied:</p> <h4 id="support-personnel">Support Personnel</h4> <p>At least one person from the submitting entity with intimate knowledge about the inner workings of the CCS must be willing and able to attend at the World Finals where it is used.</p> <h4 id="computer-platform">Computer Platform</h4> <p>The CCS must run on the computer platform set aside for the CCS at the World Finals and posted at the ICPC web site. Normally this will consist of one machine per team, several auto-judging machines that are identical to the team machines, and one or more servers.</p> <h2 id="contest-configuration">Contest Configuration</h2> <h3 id="advance-configuration">Advance Configuration</h3> <p>All variable aspects of the CCS must be configurable prior to the start of a World Finals contest. That is, the CCS may not require that any changes be made to the CCS configuration once the contest has started. Note that this does not alter any requirements which state that the CCS must allow certain configuration changes to be able to be made after the contest starts; it means that the contest administration staff must not be required to make any changes once the contest starts.</p> <h3 id="importing-contest-configuration">Importing Contest Configuration</h3> <p>The CCS must be able to import contest configuration from a single URL, and use the data at that location to configure the CCS. The configuration URL contains all contest configuration data, including the contest configuration file (<a href="#contestyaml">contest.yaml</a>), problemset configuration file (<a href="#problemsetyaml">problemset.yaml</a>), problem definitions, teams.tsv, groups.tsv and logos.tar.gz. For example, if the URL is <a href="http://10.1.1.0/data">http://10.1.1.0/data</a>, teams.tsv can be imported from <a href="http://10.1.1.0/data/teams.tsv">http://10.1.1.0/data/teams.tsv</a>.</p> <p>The CCS must be able to read <a href="#teamstsv">teams.tsv</a>, which contains a list of teams registered for the World Finals. It must use the data in this file to automatically create whatever internal representation is necessary to allow each team (and only the teams) specified in the registration list to participate in the World Finals contest.</p> <p>The CCS must be able to read <a href="#groupstsv">groups.tsv</a>, an initialization file containing the list of groups to which the teams belong.</p> <p>The CCS must be able to read language configuration from an archive following the <a href="https://ccs-specs.icpc.io/contest_archive_format">Contest Archive Format</a>. See specifically the <a href="https://ccs-specs.icpc.io/contest_archive_format#language-object">language object</a>.</p> <h3 id="clock-synchronization">Clock Synchronization</h3> <p>The CCS must be able to synchronize its clock to an NTP server provided on the contest network.</p> <h3 id="predefined-clarification-answers">Predefined Clarification Answers</h3> <p>The CCS must support predefined answers to clarification requests, so that judges can choose to reply to a clarification request by selecting a predefined answer rather than being required to enter a specific answer. At least the following predefined answers must be supported:</p> <ul> <li>No comment, read problem statement.</li> <li>This will be answered during the answers to questions session.</li> </ul> <h3 id="clarification-categories">Clarification Categories</h3> <p>The CCS must support "categories" to which clarification requests can be assigned. A request belongs to exactly one category. At least the following categories need to be supported:</p> <ul> <li>General</li> <li>SysOps</li> <li>Operations</li> </ul> <p>In addition, the CCS must construct one category per problem, i.e., categories named e.g. "Problem A", "Problem B", etc. for each problem.</p> <h3 id="programming-languages">Programming Languages</h3> <h4 id="supported-languages">Supported Languages</h4> <p>The CCS must provide the ability to compile and execute (or interpret, as appropriate for the language) submitted source code files for each of the languages specified by the <a href="https://icpc.global/worldfinals/programming-environment">Environment of the World Finals</a>.</p> <h4 id="language-options">Language Options</h4> <p>For each supported language compiler or interpreter it must be possible to configure the CCS to invoke it with any of the options specified in the compiler or interpreter's documentation.</p> <h3 id="contest-problems">Contest Problems</h3> <p>Problems (including judge data, validators, execution time limit, etc) are specified and configured using the <a href="https://icpc.io/problem-package-format/">Problem package format</a>. The CCS must support this format with the following exceptions:</p> <ul> <li>The CCS does not have to support the use of the following keys in problem.yaml: type, libraries or languages. This means that the default value will be used.</li> <li>The CCS does only have to support the values "default" or "custom" for the key validation in problem.yaml.</li> <li>The CCS does not have to support sections 5 "Included Code", 9 "Graders" or 10 "Generators".</li> </ul><div class="toasts note mb-4">
    <div class="title px-2 py-1">
        <i class="fa fa-info-circle"></i>
        Note
    </div>
    <div class="content px-2 py-3">
        <p>TODO: Drop the exceptions above?</p></div>
</div>
 <p>The CCS must report an error when importing problems that use any unsupported features. The CCS may report an error when unsupported keys are used, even if they are given the default value.</p> <p>The problem name is as defined in the <em>problemname</em> macro in the problem specification. Optionally, the <em>plainproblemname</em>, if present, may be used instead. If <em>problemname</em> is used then escaped parts of it must be handled properly. If <em>plainproblemname</em> is used it must be used verbatim.</p> <h3 id="configuration-change">Configuration Change</h3> <p>The CCS must allow updating of configuration data without restarting or stopping the CCS.</p> <p>The CCS must support the ability to create and save an updated contest.yaml file upon request.</p> <h2 id="admin-interface">Admin Interface</h2> <p>This section describes all the required capabilities for users authenticated as admin.</p> <h3 id="account-disabling">Account Disabling</h3> <p>The CCS must have a mechanism to disable any account (either an account for a human user or for another system), without the need for starting or stopping the contest. For example, this includes <a href="#secure-authentication">team accounts</a> and judge accounts.</p> <h3 id="changes-to-authentication-data">Changes To Authentication Data</h3> <p>The CCS must allow user authentication credential information to be changed dynamically by contest administration staff while the contest is running.</p> <h3 id="starting-the-contest">Starting the Contest</h3> <p>The contest must automatically start when the configured start time is reached. It must also be possible to start the contest at the current time.</p> <h3 id="adjusting-for-exceptional-circumstances">Adjusting for Exceptional Circumstances</h3> <h4 id="removing-time-intervals">Removing time intervals</h4> <p>It must be possible to, potentially retroactively, specify time intervals that will be disregarded for the purpose of scoring. The time during all such intervals will not be counted towards a team's penalty time for solved problems. Beginning and end of time intervals are given in wall-clock time.</p> <p>Note that removing a time interval changes the wall-clock time when the contest ends, as the duration of the contest in <a href="#contestyaml">contest.yaml</a> is specified in contest time.</p> <p>Removing the interval between time T<!-- raw HTML omitted -->0<!-- raw HTML omitted --> and T<!-- raw HTML omitted -->1<!-- raw HTML omitted -->, where T<!-- raw HTML omitted -->0<!-- raw HTML omitted --> ≤ T<!-- raw HTML omitted -->1<!-- raw HTML omitted -->, means that all submissions received between T<!-- raw HTML omitted -->0<!-- raw HTML omitted --> and T<!-- raw HTML omitted -->1<!-- raw HTML omitted --> will have the same contest time and that the time for all submissions received after T<!-- raw HTML omitted -->1<!-- raw HTML omitted --> will have a contest time that is T<!-- raw HTML omitted -->1<!-- raw HTML omitted -->-T<!-- raw HTML omitted -->0<!-- raw HTML omitted --> lower than if the interval was not removed.</p> <p>The removal of a time interval must be reversible. This means that if a time interval is removed, the CCS must support the capability of subsequently restoring the contest to the state it had prior to the removal of the time interval.</p> <p>Note that time interval removal does not affect the order in which submissions arrived to the CCS. If submission S<!-- raw HTML omitted -->i<!-- raw HTML omitted --> arrived before submission S<!-- raw HTML omitted -->j<!-- raw HTML omitted --> during a removed interval, S<!-- raw HTML omitted -->i<!-- raw HTML omitted --> must still be considered by the CCS to have arrived strictly before S<!-- raw HTML omitted -->j<!-- raw HTML omitted -->.</p> <h4 id="changing-contest-length">Changing contest length</h4> <p>It must be possible to change the length of the contest at any time during the contest.</p> <h4 id="adding-penalty-time">Adding penalty time</h4> <p>It must be possible to specify, for each team, an integer, potentially negative, amount of penalty time to be added into that team's total penalty time.</p> <h4 id="ignoring-submissions">Ignoring submissions</h4> <p>It must be possible to remove, ignore or somehow mark a submission so that it in no way affects the scoring of the contest.</p> <h3 id="pausing-judging">Pausing Judging</h3> <p>The CCS must provide some way to temporarily pause judging on a per problem basis. While judging is paused teams should still be able to make submissions and these submission should be shown on the scoreboard as usual.</p> <h3 id="rejudging">Rejudging</h3> <h4 id="automatic-rejudging">Automatic Rejudging</h4> <p>The CCS must allow the ability to automatically rejudge a selected set of submissions.</p> <p>Each submission in the set of selected submissions is executed and judged in the same manner as for a newly arrived submission.</p> <h4 id="previewing-rejudgement-results">Previewing Rejudgement Results</h4> <p>There must be a way to preview the judgements which result from rejudging the set of selected submissions without committing the resulting judgements.</p> <h4 id="submission-selection">Submission Selection</h4> <p>The CCS must provide the ability to specify a filter defining the set of submissions to be rejudged. The CCS must support any combination of filters of the following types:</p> <ol> <li>A specific (single) submission.</li> <li>All submissions for a specific problem.</li> <li>All submissions using a specific language.</li> <li>All submissions by a specific team or set of teams.</li> <li>All submissions between some time T<!-- raw HTML omitted -->0<!-- raw HTML omitted --> and some subsequent time T<!-- raw HTML omitted -->1<!-- raw HTML omitted -->.</li> <li>All submissions which have been assigned any specific one of the allowable submission judgments as defined in <a href="#judge-responses">Judge Responses</a>, or all submissions that received any judgment other than "Accepted" (that is, all rejected submissions).</li> <li>All submissions which have been run on a specific computer (identified in some reasonable way, e.g., IP address or hostname). This requirement is only applicable if the CCS uses multiple machines to run submissions.</li> </ol> <p>Thus, for example, it must be possible to select "all rejected submissions for problem B", "all Time Limit Exceeded submissions using Java for problem C", "all submissions between time 2013-07-01 08:00:00+00 and time 2013-07-01 09:00:00+00 of the contest using Java", or "all submissions using C++".</p> <h3 id="manual-override-of-judgments">Manual Override of Judgments</h3> <p>The CCS must support the ability to assign, to a single submission, an updated judgment chosen from among any of the allowed submission judgments as defined in <a href="#judge-responses">Judge Responses</a>.</p> <p>The CCS must require a separate authentication every time a judgment is changed manually and all such changes must be logged.</p> <h3 id="scoreboard-display">Scoreboard Display</h3> <p>The CCS must provide a mechanism for judges to view the current scoreboard. The scoreboard must be updated in such a way that it's never more than 30 seconds out of date.</p> <p>During times when the scoreboard is frozen, administrators must be able to view the current (updated) scoreboard as well as the frozen scoreboard.</p> <h3 id="freezing-the-scoreboard">Freezing the Scoreboard</h3> <p>The scoreboard must automatically freeze when the configured scoreboard freeze time is reached. It must also be possible to manually freeze the scoreboard at the current time. All submissions received after the freeze time must be treated as pending on a frozen scoreboard.</p> <p>The exact phrase displayed on the frozen scoreboard must be:</p> <p><code> The scoreboard was frozen with XX minutes remaining - submissions in the last XX minutes of the contest are still shown as pending.</code></p> <p>where XX is the number of minutes remaining in the contest at the time the scoreboard was frozen.</p> <p>It must be possible to re-enable scoreboard display updating at any time after it has been disabled, again without stopping the contest or affecting contest operations in any way.</p> <h3 id="finalizing-the-contest">Finalizing the Contest</h3> <p>Finalizing is the procedure to authorize the final results at the end of a contest. When the contest has been finalized the <a href="contest_api#contest-state">contest state</a> endpoint will be updated to reflect this.</p> <p>When the contest is over, but not finalized, all scoreboards must show a warning that the results are not final.</p> <p>The CCS must provide a way for admins to finalize the contest. It must <em>not</em> be possible to finalize a contest if one or more of the following applies:</p> <ol> <li>The contest is still running (i.e., the contest is not over).</li> <li>There are un-judged submissions.</li> <li>There are submissions judged as <a href="#exceptional-judgments">Judging Error</a>.</li> <li>There are unanswered clarification requests.</li> </ol> <p>Before finalizing the contest the value B, as used in <a href="#scoring-data-generation">Scoring Data Generation</a> will be provided. The default value for B must be 0.</p> <p>If, after providing the correct and final value of B, the <a href="contest_api#scoreboard">Scoreboard</a> and <a href="contest_api#awards">Awards</a> endpoints contain the correct results, the admin may Finalize the contest. These endpoints must be compared with the ones exposed by the <a href="#shadow-mode">Shadow CCS</a> and should also be manually sanity checked before Finalizing.</p> <h2 id="team-interface">Team Interface</h2> <p>This section describes all the required capabilities for users authenticated as team.</p> <h3 id="submissions">Submissions</h3> <p>For purposes of this document, solutions to problems submitted for judging are called <strong>submissions</strong>. A submission consists of a set of source code files sent as a single unit at one time to the judging system by a team.</p> <h4 id="submission-mechanism">Submission Mechanism</h4> <p>The CCS must provide each team with the ability to make a submission to the judging system.</p> <h4 id="submission-contents">Submission Contents</h4> <p>A team must be able to specify, for each submission:</p> <ol> <li>the contest problem to which the submission applies;</li> <li>the programming language used in the submission;</li> <li>the source code file or files comprising the submission.</li> </ol> <p>The CCS must allow teams to specify at least 10 files in a given submission and must allow teams to make submissions for any defined contest problem, written in any defined contest programming language.</p> <h4 id="team-viewing-of-submission-status">Team Viewing of Submission Status</h4> <p>The CCS must provide each team with a capability for reviewing the status of each submission the team has made, including: the contest time of the submission, the language and problem specified in the submission; and the most recent judgment (if any) for the submission.</p> <h4 id="submission-security">Submission Security</h4> <p>The CCS must ensure that no team can learn anything about the submissions of any other team (other than what can be deduced from the scoreboard).</p> <h3 id="clarification-requests">Clarification Requests</h3> <p>A clarification request is a message sent from a team to the judges asking for clarification regarding a contest problem or possibly the contest in general.</p> <h4 id="sending-clarification-requests">Sending Clarification Requests</h4> <p>The CCS must provide each team with the ability to submit a clarification request to the judges over the network.</p> <h4 id="content-of-clarification-requests">Content of Clarification Requests</h4> <p>The team must be able to specify the text content and category of a clarification request.</p> <h4 id="viewing-of-clarification-request-status">Viewing of Clarification Request Status</h4> <p>The CCS must provide each team with a capability for reviewing the status of each clarification request the team has submitted, including: the contest time of the clarification request; the problem identified in the clarification request if identification of a specific problem was required by the CCS; and the response from the judges to the clarification request if any response has occurred yet.</p> <h4 id="clarification-request-security">Clarification Request Security</h4> <p>The CCS must ensure that no team can see the clarification requests of any other team, except as provided in the section <a href="#judge-interface"> Judge Interface</a>.</p> <h3 id="broadcast-messages">Broadcast Messages</h3> <h4 id="team-viewing-of-broadcast-messages">Team Viewing of Broadcast Messages</h4> <p>The CCS must provide each team with a capability for viewing any broadcast messages sent by the judges (see <a href="#issuing-broadcast-messages"> Issuing Broadcast Messages</a> under Judging).</p> <h3 id="notifications">Notifications</h3> <p>The CCS must notify teams when a judgement, clarification or broadcast message has been received. This notification may not steal focus.</p> <h3 id="scoreboard-display-1">Scoreboard Display</h3> <p>The CCS must provide a mechanism for teams to view the current scoreboard. The scoreboard must be updated in such a way that it's never more than 30 seconds out of date.</p> <h2 id="judge-interface">Judge Interface</h2> <p>This section describes all the required capabilities for users authenticated as judge.</p> <h3 id="simultaneous-usage">Simultaneous Usage</h3> <p>It must be possible for multiple human judges, working on different computers, to simultaneously perform the operations specified in this subsection (on different submissions).</p> <h3 id="viewing-submissions">Viewing Submissions</h3> <p>The CCS must provide a human judge with the ability to perform each of the following operations:</p> <ol> <li>See a list of all submissions, where the list includes (for each submission) the contest time at which the submission was sent, the problem and language specified in the submission, and any judgments applied.</li> <li>Sort the list of submissions by submission time (newest submissions first).</li> <li>Filter the list of submissions by: <ol> <li>Problem</li> <li>Team</li> <li>Language</li> <li>Judgement applied.</li> </ol> </li> <li>View and download the output produced by the submission when run against the specified input data.</li> <li>View and download the source code contained in any specific submission.</li> <li>View the compiler output resulting from compiling any specific submission using the compiler arguments configured in the CCS.</li> <li>View the validator output resulting from invoking the external validator associated with the contest problem for any specific submission.</li> <li>View and download the judge's input data file associated with the contest problem for any specific submission.</li> <li>View and download the "judge's output" (the "correct answer" file) associated with the contest problem for any specific submission.</li> <li>View the judge data description, if available.</li> <li>View a diff between team output for the submission and judge answer file for the problem.</li> <li>View previous submissions by the same team on the same problem.</li> </ol> <p>In addition, any additional analytical capabilities allowing the judges to track differences between submissions are appreciated.</p> <h3 id="handling-clarifications-requests">Handling Clarifications Requests</h3> <p>The CCS must provide a human judge with the ability to perform each of the following operations:</p> <ol> <li>See a list of all clarification requests, where the list includes (for each clar) the team which submitted the request, the contest time at which the clar was submitted, and an indication of whether or not an answer to the clar has been sent to the team which submitted it.</li> <li>Sort the list of clarification requests by time.</li> <li>Filter the list of clarification requests by: <ol> <li>A user-specified set of <a href="#clarification-categories">categories</a></li> <li>A team</li> <li>Whether the clarification request has been answered.</li> </ol> </li> <li>Determine, for any specific clarification request, what answer was returned to the team if the clar has already been answered.</li> <li>Compose an answer to the clar and send it, along with the text of the original clarification request, to the team.</li> <li>Optionally choose to also send the clarification request text and answer to all teams in the contest.</li> <li>Change the category of a clarification request.</li> </ol> <h3 id="issuing-broadcast-messages">Issuing Broadcast Messages</h3> <p>The CCS must provide the ability for a human judge to compose a message and broadcast that message to all teams in the contest. It must be possible to do this even when the contest is not running.</p> <h3 id="scoreboard-display-2">Scoreboard Display</h3> <p>The CCS must provide a mechanism for judges to view the current scoreboard. The scoreboard must be updated in such a way that it's never more than 30 seconds out of date.</p> <p>During times when the scoreboard is frozen, judges must be able to view the current (updated) scoreboard as well as the frozen scoreboard.</p> <h2 id="judging">Judging</h2> <h3 id="automated-judgements">Automated Judgements</h3> <p>The CCS must be able to automatically judge incoming submissions. This mechanism must automatically (that is, without human intervention) process each incoming submissions, and for each such submission must automatically:</p> <ol> <li>Compile (if appropriate for the language) the program contained in the submission, enforcing the <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">compilation time limit</a>.</li> <li>Execute the program contained in the submission, with the corresponding contest problem data automatically supplied to the program.</li> <li>Prevent the submitted program from performing any <a href="#prohibited-operations">prohibited operations</a>.</li> <li>Enforce any configured <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">execution time limit</a>, <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">memory limit</a>, and <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">output size limit</a> specified for the corresponding problem. <ul> <li>The execution time limit gives a restriction on the amount of <em>CPU time</em> that the submission may consume, per test file.</li> <li>In addition, the CCS must restrict the amount of <em>wall clock time</em> that the submission may consume (to safeguard against submissions which spend a long time without using CPU time by e.g., sleeping).</li> </ul> </li> <li>Invoke an external program, known for purposes of this document as a <a href="https://icpc.io/problem-package-format/spec/problem_package_format#output-validators">validator</a>, passing to it the output generated by the program specified in the submission and getting back from it an indication of what judgment is to be applied to the submission (see the <a href="#validators">Validators</a> section).</li> <li>Assign an <a href="#judge-responses">appropriate judgment</a> to the submission.</li> <li>Send a notification about the judgement to the team.</li> </ol> <p>It must be possible to configure the CCS such that these actions are performed on a machine that is not accessible to any team (possibly just a different virtual machine, e.g. if the machines used in the contest are thin clients connecting to a shared server).</p> <h3 id="prevention-of-auto-judge-machine-starvation">Prevention of Auto-judge Machine Starvation</h3> <p>The CCS must use auto-judge machines efficiently and fairly. At a minimum it needs to ensure:</p> <ol> <li>Submissions must not be left in queue if there are unused auto-judge machines.</li> <li>The system must prevent a single team from starving other teams out of auto-judge machines.</li> </ol> <h3 id="prohibited-operations">Prohibited Operations</h3> <p>The CCS must ensure that prohibited operations in submissions have no non-trivial outside effects.</p> <p>The prohibited operations are:</p> <ol> <li>Using libraries except those explicitly allowed</li> <li>Executing other programs</li> <li>Reading any files</li> <li>Creating files</li> <li>Sending signals to other programs</li> <li>Side-stepping time or memory limits</li> <li>Sending or receiving network traffic, e.g. opening sockets</li> </ol> <h3 id="judge-responses">Judge Responses</h3> <p>The CCS must answer each submission with a responses from the table below. Some judgements results in penalty time being added and only Accepted means that the problem should be counted as solved, as specified in the table.</p> <table> <thead> <tr> <th>Response</th> <th>Acronym</th> <th>Penalty</th> <th>Solved</th> </tr> </thead> <tbody> <tr> <td>Compile Error</td> <td>CE</td> <td>No</td> <td>No</td> </tr> <tr> <td>Run-Time Error</td> <td>RTE</td> <td>Yes</td> <td>No</td> </tr> <tr> <td>Time Limit Exceeded</td> <td>TLE</td> <td>Yes</td> <td>No</td> </tr> <tr> <td>Wrong Answer</td> <td>WA</td> <td>Yes</td> <td>No</td> </tr> <tr> <td>Accepted</td> <td>AC</td> <td>No</td> <td>Yes</td> </tr> <tr> <td>Security Violation</td> <td>SV</td> <td>Yes</td> <td>No</td> </tr> <tr> <td>Judging Error</td> <td>JE</td> <td>No</td> <td>No</td> </tr> </tbody> </table> <h3 id="assigning-a-judgment">Assigning a Judgment</h3> <p>The next two sections define how to assign a judgment to a submission for problems with a single input file and with multiple input files, respectively. Note however that the <strong>Judging Error</strong> and <strong>Security Violation</strong> judgments constitute exceptions to this, as defined in <a href="#exceptional-judgments">Exceptional Judgments</a>.</p> <h4 id="judging-with-a-single-input-file">Judging With a Single Input File</h4> <p>To determine which answer to use, the following rules must be applied in order:</p> <ol> <li>If the submitted program fails to compile or compilation exceeds the <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">compilation time limit</a>, the response must be <strong>Compile Error</strong>.</li> <li>If the submitted program exceeds the <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">memory limit</a> or crashes before the <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">execution time limit</a> is exceeded, the answer must be <strong>Run-Time Error</strong>.</li> <li>If the submitted program runs longer than the <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">execution time limit</a>, the answer must be <strong>Time Limit Exceeded</strong>.</li> <li>If the output of the submitted program exceeds the <a href="https://icpc.io/problem-package-format/spec/problem_package_format#limits">output size limit</a> or if the output of the submitted program is not accepted by the output validator, the answer must be <strong>Wrong Answer</strong>.</li> <li>If the output of the submitted program is accepted by the output validator, the answer must be <strong>Accepted</strong>.</li> </ol> <h4 id="judging-with-multiple-input-files">Judging With Multiple Input Files</h4> <p>If the problem has multiple judge input files the judgment is assigned as follows:</p> <ol> <li>For each input file apply the <a href="#judging-with-a-single-input-file">decision process for a single input file</a>.</li> <li>If any file is not judged as <strong>Accepted</strong>, the response must be that of the first file, in alphabetical order, that was not judged <strong>Accepted</strong>.</li> <li>Otherwise the response must be <strong>Accepted</strong>.</li> </ol> <p>Note that the CCS is only required to judge as many files as needed to determine the first file, if any, that is not judged <strong>Accepted</strong>.</p> <h4 id="exceptional-judgments">Exceptional Judgments</h4> <p>The preceding sections define how to assign a judgment to a submitted program. However, the following two exceptions apply:</p> <ol> <li>If, during any point of the judging process an error occurs that the CCS can not recover from, <strong>Judging Error</strong> must be the judgment.</li> <li>If, during any point of the judging process the submitted program tries to perform a <a href="#prohibited-operations">prohibited operation</a>, <strong>Security Violation</strong> may be the judgment.</li> </ol> <h3 id="validators">Validators</h3> <p>A CCS fulfilling these requirements must safeguard against faulty validators. For instance, if a validator were to produce excessively large feedback files, or crash, the CCS must handle this gracefully and report it to contest staff. Reasons for such misbehaviour of the validator program could be for instance a security bug in the validator program, enabling malicious submissions to produce feedback files of their own choosing.</p> <p>The content of <em>stdout</em> and <em>stderr</em> of the output validator can be ignored by the contest control system.</p> <h2 id="scoring">Scoring</h2> <h3 id="scoring-data-generation">Scoring Data Generation</h3> <p>The CCS must be capable of automatically generating up-to-date scoring data according to the following:</p> <ol> <li>For purposes of scoring, the <em>contest time of a submission</em> is the number of minutes elapsed from the beginning of the contest when the submission was made, skipping removed time intervals if specified (see <a href="#removing-time-intervals">Removing Time Intervals</a>). This is rounded <em>down</em> to the nearest minute, so 59.99 seconds is 0 minutes.</li> <li>The <em>contest time that a team solved a problem</em> is the contest time of the team's first accepted submission to that problem.</li> <li>A team's <em>penalty time on a problem</em> is the contest time that the team solved the problem, plus <em>penaltytime</em> (from <a href="#contestyaml">contest.yaml</a>) minutes for each previous submission rejected with a judgement that causes penalty time, by that team on that problem, or 0 if the team has not solved the problem.</li> <li>A team's <em>total penalty time</em> is the sum of the penalty times for all problems plus any judge added penalty time.</li> <li>A team's <em>last accepted submission</em> is the contest time of the problem that the team solved last.</li> <li>The <em>position</em> of a team is determined by sorting the teams first by number of problems solved (descending), then within that by total penalty time (ascending), then within that by last accepted submission (ascending).</li> <li>The <em>rank</em> of a team is then determined as follows: <ol> <li>For teams in positions up to and including 12+B, the rank equals the position (B is provided when <a href="#finalizing-the-contest">finalizing the contest</a>; the default value is 0).</li> <li>Teams that solved fewer problems than the median team are not ranked at all.</li> <li>For the remaining teams, the rank is determined by sorting the teams by number of problems solved (descending).</li> </ol> </li> <li>The <em>award</em> of a team is: <ol> <li><em>gold</em> if rank is 1 through 4.</li> <li><em>silver</em> if rank is 5 through 8.</li> <li><em>bronze</em> if rank is 9 through 12+B.</li> <li><em>ranked</em> if rank is not 1 through 12+B but the team is ranked.</li> <li><em>honorable</em> otherwise.</li> </ol> </li> </ol> <p>When a number of teams are tied for the same position/rank, they all occupy the same position/rank and a suitable number of subsequent positions/ranks are left empty. For instance, if four teams are tied for 17th position, they are all in 17th position and positions 18, 19 and 20 are unoccupied.</p> <p>A submission is pending judgement if it has no judgement or if the judgement is <strong>Judging Error</strong>. Pending judgements have no effect on scoring.</p> <h3 id="scoreboard">Scoreboard</h3> <p>The <em>current scoreboard</em> lists the teams sorted by position (with alphabetical order on university name as tie breaker).</p> <p>The scoreboard must include at least the following information.</p> <p>For each team:</p> <ol> <li>university name</li> <li>univerisity logo (see <a href="#logostargz">logos.tar.gz</a>)</li> <li>team position</li> <li>number of problems solved</li> <li>total penalty time</li> </ol> <p>For each team and problem:</p> <ol> <li>number of submissions from that team on that problem,</li> <li>whether the problem is solved, unsolved or a judgement is pending,</li> <li>if the problem is solved, the contest time at which it was solved,</li> <li>if the problem is pending judgement, how many submissions are pending judgement on that problem,</li> </ol> <p>A problem is pending judgement if any submission on it is pending judgement and there is not an earlier accepted submission on that problem.</p> <h2 id="data-export">Data Export</h2> <h3 id="contest-api">Contest API</h3> <p>It is a requirement that the CCS provide a compliant implmentation of the <a href="contest_api">Contest API</a>. In addition to all required endpoints and elements (i.e. the minimal compliant implmentation) the CCS must also provide the following endpoints and elements:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Element</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests</code></td> <td align="left"><code>formal_name</code></td> </tr> <tr> <td align="left"><code>/contests</code></td> <td align="left"><code>scoreboard_freeze_duration</code></td> </tr> <tr> <td align="left"><code>/contests</code></td> <td align="left"><code>penalty_time</code></td> </tr> <tr> <td align="left"><code>/languages</code></td> <td align="left"><code>compiler</code></td> </tr> <tr> <td align="left"><code>/languages</code></td> <td align="left"><code>runner</code></td> </tr> <tr> <td align="left"><code>/problems</code></td> <td align="left"><code>rgb</code></td> </tr> <tr> <td align="left"><code>/problems</code></td> <td align="left"><code>color</code></td> </tr> <tr> <td align="left"><code>/problems</code></td> <td align="left"><code>time_limit</code></td> </tr> <tr> <td align="left"><code>/groups</code></td> <td align="left"><code>icpc_id</code></td> </tr> <tr> <td align="left"><code>/organizations</code></td> <td align="left">All required elements.</td> </tr> <tr> <td align="left"><code>/organizations</code></td> <td align="left"><code>icpc_id</code></td> </tr> <tr> <td align="left"><code>/organizations</code></td> <td align="left"><code>formal_name</code></td> </tr> <tr> <td align="left"><code>/teams</code></td> <td align="left"><code>icpc_id</code></td> </tr> <tr> <td align="left"><code>/teams</code></td> <td align="left"><code>display_name</code></td> </tr> <tr> <td align="left"><code>/teams</code></td> <td align="left"><code>organization_id</code></td> </tr> <tr> <td align="left"><code>/teams</code></td> <td align="left"><code>group_ids</code></td> </tr> <tr> <td align="left"><code>/judgements</code></td> <td align="left"><code>max_run_time</code></td> </tr> <tr> <td align="left"><code>/runs</code></td> <td align="left"><code>run_time</code></td> </tr> <tr> <td align="left"><code>/awards</code></td> <td align="left">All required elements.</td> </tr> </tbody> </table> <h4 id="access-restrictions">Access Restrictions</h4> <p>The following access restrictions must apply to GETs on the API endpoints:</p> <ul> <li>The <code>public</code> role can only access the <code>/problems</code> endpoint after the contest has started. That is, before contest start <code>/problems</code> returns an empty array for clients with the <code>public</code> role.</li> <li>The <code>backup</code> element of the <code>/teams</code> endpoint requires the <code>admin</code> or <code>analyst</code> role for access.</li> <li>The <code>desktop</code> and <code>webcam</code> elements of the <code>/teams</code> endpoint are available for the <code>public</code> role only when the scoreboard is not frozen.</li> <li>The <code>entry_point</code> and <code>files</code> elements of the <code>/submissions</code> endpoint are accessible only for clients with <code>admin</code> or <code>analyst</code> role. The <code>reaction</code> element is available to clients with <code>public</code> role only when the contest is not frozen.</li> <li>For clients with the <code>public</code> role the <code>/judgements</code> and <code>/runs</code> endpoints must not include judgements or runs for submissions received while the scoreboard is frozen. This means that all judgements and runs for submissions received before the scoreboard has been frozen will be available immediately, and all judgements and runs for submissions received after the scoreboard has been frozen will be available immediately after the scoreboard has been thawed.</li> <li>For clients with the <code>public</code> role the <code>/clarifications</code> endpoint must only contain replies from the jury to all teams, that is, messages where both <code>from_team_id</code> and <code>to_team_id</code> are <code>null</code>. For clients with the <code>team</code> role the <code>/clarifications</code> endpoint must only contain their own clarifications (sent or received) and public clarifications.</li> <li>For clients with the <code>public</code> role the <code>/awards</code> and <code>/scoreboard</code> endpoints must not include information from judgements of submissions received after the scoreboard freeze until it has been thawed.</li> </ul> <h3 id="final-results-data-files">Final Results Data Files</h3> <p>The <em>final results</em> are contained in the JSON files returned by the <a href="contest_api#scoreboard">Scoreboard</a> and <a href="contest_api#awards">Awards</a> endpoints of the <a href="contest_api">Contest API</a>.</p> <p>The CCS must be capable of generating at least the following awards after the contest has ended:</p> <ul> <li><code>winner</code></li> <li><code>gold-medal</code></li> <li><code>silver-medal</code></li> <li><code>bronze-medal</code></li> <li><code>rank-\&lt;rank&gt;</code></li> <li><code>honorable-mention</code></li> <li><code>first-to-solve-&lt;id&gt;</code></li> <li><code>group-winner-&lt;id&gt;</code></li> </ul> <p>The CCS does not have to be able to make them available during the contest.</p> <p>See <a href="#scoring-data-generation">Scoring Data Generation</a> for details on how the awards must be calculated, and the list of <a href="contest_api#known-awards">known awards</a> for additional comments.</p> <h2 id="shadow-mode">Shadow Mode</h2> <h3 id="overview-1">Overview</h3> <p>Each World Finals contest is managed by a single CCS, called the <em>Primary CCS</em>. Participants in a WF contest (teams, judges, contest administrators, etc.) connect only to the Primary CCS; all participant-visible contest operations are handled by the Primary CCS and the final results of the contest are computed by the Primary CCS.</p> <p>In order to insure accuracy of the final contest results, each World Finals also runs an independent "parallel" CCS called the <em>Shadow CCS</em>. The main task of the Shadow CCS is to verify that the final results computed by the Primary CCS are correct according to the rules of the World Finals. A contest control system acting as a Shadow CCS is said to be running in <em>shadow mode</em>. This section defines requirements which must be implemented by a CCS related to shadow mode.</p> <h3 id="support-for-both-primary-and-shadow-modes">Support for both Primary and Shadow Modes</h3> <p>A CCS must be able to operate in either Primary or Shadow mode. This means that it must in principle be possible to run two identical instances of the CCS, one set to run in Primary mode and the other set to run in Shadow mode, and where the two CCS instances communicate with each other as defined by the requirements of this section and where each CCS instance performs all of the required operations of a Primary or Shadow CCS respectively. A CCS will not be considered as a candidate for use at the World Finals unless it meets all of the requirements specified in this document, including all of the requirements listed in this section. That is, a CCS will not be considered as a candidate for use at the World Finals unless it is capable of operating both as a Primary CCS and as a Shadow CCS.</p> <p>The requirement for the ability to run in either Primary mode or Shadow mode does not imply that a CCS must be able to operate in these modes simultaneously, nor that a CCS must be able to switch between these modes dynamically during a contest. Rather, it means that in order to be eligible to be a candidate for use at the World Finals, a CCS must support BOTH Primary and Shadow-mode operations and must meet all of the requirements for both modes, regardless of which mode it would actually be used in for the particular World Finals.</p> <h3 id="external-communication">External Communication</h3> <p>Beyond communicating with its own components (e.g., communicating with its external "auto-judges" or with the humans managing it), the only external communication which a CCS running in shadow mode is allowed to require is that it has the ability to communicate with at least one "server" component of the Primary CCS. In particular, a CCS running in shadow mode may not require that it be able to communicate directly with any of the actual contest participants (meaning the teams, judges, or contest administrators who communicate with the Primary CCS).</p> <p>Said another way, the Shadow CCS must be able to perform all of its functions while communicating only with the Primary CCS.</p> <h3 id="ccs-configuration">CCS Configuration</h3> <p>A CCS running in shadow mode must be able to import a complete contest configuration as described in the <a href="#importing-contest-configuration">Importing Contest Configuration</a> section of this Requirements Specification. In particular a shadow-mode CCS must be able to import a contest configuration from a single URL and must also be able to import the teams.tsv and groups.tsv files as specified in that section.</p> <h3 id="submissions-1">Submissions</h3> <p>A CCS running in shadow mode must be able to obtain team submissions via communication with the Primary CCS. As required elsewhere in this specification, the Primary CCS must implement the endpoints defined in the <a href="contest_api">Contest API</a>. The following requirements then apply to the mechanisms used by the Shadow CCS for obtaining submissions:</p> <ol> <li>The Shadow CCS should use the <code>/event-feed</code> endpoint defined in the <a href="contest_api">Contest API</a> to obtain notification of team submissions from the Primary CCS (in other words, the Shadow CCS should preferably use event-driven operation, rather than polling, for team submission notification).</li> <li>The Shadow CCS must use the <code>/submissions/&lt;id&gt;</code> and <code>/submissions/&lt;id&gt;/files</code> endpoints defined in the <a href="contest_api">Contest API</a> for obtaining submission data from the Primary CCS.</li> <li>The Shadow CCS must provide an interface that can display information regarding any submission by looking up the submission using the submission id assigned by the Primary CCS.</li> <li>The Shadow CCS must use the timestamp assigned to a submission by the Primary CCS as the time of the submission for purposes of computing standings, regardless of the time at which the submission is actually obtained by the Shadow CCS.</li> <li>A submission obtained from the Primary CCS must be executed and judged by the Shadow CCS in the same manner as if it had been submitted to the CCS running in non-shadow mode.</li> </ol> <h3 id="judgement-comparison">Judgement Comparison</h3> <p>A CCS running in shadow mode must the capability to present a "diff" of submissions – that is, a list of all submissions which at the current time have a different judgement than that which was assigned by the Primary CCS.</p> <h3 id="requirements-which-may-be-imposed-by-the-ccs">Requirements Which May Be Imposed By The CCS</h3> <p>A CCS may require the following conditions to exist in order to guarantee support for shadow-mode operations:</p> <ul> <li>The Shadow CCS is provided with "auto-judging" hardware which is the same as that being used by the Primary CCS.</li> <li>The Shadow CCS has a network connection to both the Event Feed and the REST services provided by the Primary CCS.</li> <li>The Shadow CCS is provided with credentials which allow appropriate access to the required Primary CCS REST endpoints.</li> <li>SubmissionIDs for submissions are unique contest-wide, even in the event of a contest with multiple independent sites being managed by a single distributed Primary CCS.</li> <li>The Shadow CCS has access to the same contest configuration files as those used to configure the Primary CCS.</li> </ul> <p>A CCS may not require any conditions not specified above to exist in order to guarantee support for shadow-mode operations.</p> <h2 id="documentation-requirements">Documentation Requirements</h2> <p>In order for a given CCS to be considered as a candidate for running the ICPC World Finals contest, the following documents must be submitted.</p> <ul> <li>A text file named "License" containing the license, conforming to the the <a href="#licensing">Licensing</a> section, under which the CCS is made available to the ICPC.</li> <li>A <em>Requirements Compliance Document</em> as defined below.</li> <li>A <em>Team Guide</em> as defined below.</li> <li>A <em>Judge's Guide</em> as defined below.</li> <li>A <em>Contest Administrator's Guide</em> as defined below.</li> <li>A <em>System Manager's Guide</em> as defined below.</li> </ul> <h3 id="requirements-compliance-document">Requirements Compliance Document</h3> <p>The CCS must include a <em>Requirements Compliance Document</em> in PDF format, that for each requirement (referencing by section number) in this document confirms that the CCS conforms and explains how that is. In the event that a configuration item is provided by using services of the underlying operating system rather than facilities directly implemented or controlled by the CCS itself, this fact must be explicitly stated.</p> <h3 id="team-guide">Team Guide</h3> <p>The CCS must include a "Team Guide" in PDF format. The Team Guide must provide all the necessary instructions showing how a contest team uses the functions of the team interface.</p> <h3 id="judges-guide">Judge's Guide</h3> <p>The CCS must include a "Judge's Guide" in PDF format. The Judge's Guide must provide all the necessary instructions showing how a human contest judge uses the functions of the human judge interface.</p> <h3 id="contest-administrators-guide">Contest Administrator's Guide</h3> <p>The CCS must include a "Contest Administrator's Guide" in PDF format. The Administrator's Guide must provide all the necessary instructions showing how contest personnel use the functions of the CCS to set up and manage a contest.</p> <h3 id="system-managers-guide">System Manager's Guide</h3> <p>The CCS must include a "System Manager's Guide" document in PDF format. The System Manager's Guide must describe the steps required to install and start the CCS on the OS platform specified for use in the World Finals. In the event that the CCS consists of multiple modules and/or packages, the guide must contain a description of the relationship between the modules or packages, including any specific installation and/or startup steps required for each module or package.</p> <p>The System Manager's Guide must provide instructions to contest personnel explaining situations (if any) where the CCS uses functions of the underlying operating system (OS) platform to meet requirements laid out in this document. For example, if the CCS relies on the use of OS account and password management to implement requirements related to contest security and credentials, or print services provided by the OS to implement requirements related to external notifications, this must be described in the System Manager's Guide.</p> <p>The System Manager's Guide must explicitly list any operating system dependencies of the CCS, including but not limited to which OS platform and version are required and which optional OS packages must be installed for the CCS to function properly.</p> <p>The System Manager's Guide must explicitly list any software dependencies of the CCS. For example, any tools such as Java, PERL, WebServer, Browser, database systems, etc., which are required for correct operation of the CCS must be listed in the guide, including specific version numbers of each tool which the CCS requires for its correct operation.</p> <h2 id="appendix-file-formats">Appendix: File formats</h2> <p>All files must be encoded in UTF-8.</p> <h3 id="input-files">Input files</h3> <h4 id="contestyaml">contest.yaml</h4> <p>A YAML file consisting of a mapping with the following keys:</p> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of contest</td> </tr> <tr> <td>short-name</td> <td>Short name of contest</td> </tr> <tr> <td>start-time</td> <td>Date and time in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 format</a> (wall-clock time that the contest starts)</td> </tr> <tr> <td>duration</td> <td>Duration as h:mm:ss (length of contest, in contest time)</td> </tr> <tr> <td>scoreboard-freeze-length</td> <td>Time length before end of contest when scoreboard will be frozen, in h:mm:ss</td> </tr> <tr> <td>penalty-time</td> <td>Penalty minutes for rejected submission (optional, default 20)</td> </tr> </tbody> </table> <h5 id="example">Example</h5> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="c1"># Contest configuration</span>
<span class="nn">---</span>
<span class="na">name</span><span class="pi">:</span>                     <span class="s">ICPC World Finals </span><span class="m">2011</span>
<span class="na">short-name</span><span class="pi">:</span>               <span class="s">ICPC WF </span><span class="m">2011</span>
<span class="na">start-time</span><span class="pi">:</span>               <span class="s">2011-02-04T01:23:00Z</span>
<span class="na">duration</span><span class="pi">:</span>                 <span class="s">5:00:00</span>
<span class="na">scoreboard-freeze-length</span><span class="pi">:</span> <span class="s">1:00:00</span>
<span class="na">penalty-time</span><span class="pi">:</span>             <span class="m">20</span>
</code></pre>  </div></div> <h4 id="problemsetyaml">problemset.yaml</h4> <p>A YAML file consisting of a mapping with the following keys:</p> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>problems</td> <td>Sequence of mappings with keys as defined below</td> </tr> </tbody> </table> <h5 id="problems">problems</h5> <p>A sequence of mappings with the following keys:</p> <table> <thead> <tr> <th>Key</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>letter</td> <td>Upper case letter designating the problem</td> </tr> <tr> <td>short-name</td> <td>The problem identifier, used to map to the problem data</td> </tr> <tr> <td>color</td> <td>Color of balloon used for this problem</td> </tr> <tr> <td>rgb</td> <td>RGB values for balloon used for this problem (should match color above)</td> </tr> </tbody> </table> <h5 id="example-1">Example</h5> <div class="language-yaml highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="c1"># Problem set configuration</span>
<span class="nn">---</span>
<span class="na">problems</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">letter</span><span class="pi">:</span>     <span class="s">A</span>
    <span class="na">short-name</span><span class="pi">:</span> <span class="s">apl</span>
    <span class="na">color</span><span class="pi">:</span>      <span class="s">yellow</span>
    <span class="na">rgb</span><span class="pi">:</span>        <span class="s1">'</span><span class="s">#ffff00'</span>

  <span class="pi">-</span> <span class="na">letter</span><span class="pi">:</span>     <span class="s">B</span>
    <span class="na">short-name</span><span class="pi">:</span> <span class="s">barcodes</span>
    <span class="na">color</span><span class="pi">:</span>      <span class="s">red</span>
    <span class="na">rgb</span><span class="pi">:</span>        <span class="s1">'</span><span class="s">#ff0000'</span>

  <span class="pi">-</span> <span class="na">letter</span><span class="pi">:</span>     <span class="s">C</span>
    <span class="na">short-name</span><span class="pi">:</span> <span class="s">biobots</span>
    <span class="na">color</span><span class="pi">:</span>      <span class="s">green</span>
    <span class="na">rgb</span><span class="pi">:</span>        <span class="s1">'</span><span class="s">#00ff00'</span>

  <span class="pi">-</span> <span class="na">letter</span><span class="pi">:</span>     <span class="s">D</span>
    <span class="na">short-name</span><span class="pi">:</span> <span class="s">castles</span>
    <span class="na">color</span><span class="pi">:</span>      <span class="s">blue</span>
    <span class="na">rgb</span><span class="pi">:</span>        <span class="s1">'</span><span class="s">#0000ff'</span>

  <span class="pi">-</span> <span class="na">letter</span><span class="pi">:</span>     <span class="s">E</span>
    <span class="na">short-name</span><span class="pi">:</span> <span class="s">channel</span>
    <span class="na">color</span><span class="pi">:</span>      <span class="s">white</span>
    <span class="na">rgb</span><span class="pi">:</span>        <span class="s1">'</span><span class="s">#ffffff'</span>
</code></pre>  </div></div> <h4 id="groupstsv">groups.tsv</h4> <p>A text file consisting of a version line and one line for each group (super regionals at the WF) that needs to be tracked separately with regards to results. Each line has tab separated fields as defined below.</p> <p>The first line has the following format</p> <table> <thead> <tr> <th>Field</th> <th>Description</th> <th>Example</th> <th>Type</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Label</td> <td>groups</td> <td>fixed string (always same value)</td> </tr> <tr> <td>2</td> <td>Version number</td> <td>1</td> <td>integer</td> </tr> </tbody> </table> <p>Then follow several lines with the following format (one per team group).</p> <table> <thead> <tr> <th>Field</th> <th>Description</th> <th>Example</th> <th>Type</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Group ID</td> <td>902</td> <td>integer</td> </tr> <tr> <td>2</td> <td>Group name</td> <td>North America</td> <td>string</td> </tr> </tbody> </table> <h4 id="teamstsv">teams.tsv</h4> <p>A text file consisting of a version line and one line for each team in the contest. Each line has tab separated fields as defined below.</p> <p>The first line has the following format</p> <table> <thead> <tr> <th>Field</th> <th>Description</th> <th>Example</th> <th>Type</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Label</td> <td>teams</td> <td>fixed string (always same value)</td> </tr> <tr> <td>2</td> <td>Version number</td> <td>1</td> <td>integer</td> </tr> </tbody> </table> <p>Then follow several lines with the following format (one per team).</p> <table> <thead> <tr> <th>Field</th> <th>Description</th> <th>Example</th> <th>Type</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Team Number</td> <td>22</td> <td>integer</td> </tr> <tr> <td>2</td> <td>External ID</td> <td>24314</td> <td>integer</td> </tr> <tr> <td>3</td> <td>Group ID</td> <td>4</td> <td>integer</td> </tr> <tr> <td>4</td> <td>Team name</td> <td>Hoos</td> <td>string</td> </tr> <tr> <td>5</td> <td>Institution name</td> <td>University of Virginia</td> <td>string</td> </tr> <tr> <td>6</td> <td>Institution short name</td> <td>U Virginia</td> <td>string</td> </tr> <tr> <td>7</td> <td>Country Code</td> <td>USA</td> <td>string ISO 3166-1 alpha-3</td> </tr> </tbody> </table> <h4 id="accountstsv">accounts.tsv</h4> <p>A text file consisting of a version line and one line for each account in the contest. Each line has tab separated fields as defined below.</p> <p>The first line has the following format</p> <table> <thead> <tr> <th>Field</th> <th>Description</th> <th>Example</th> <th>Type</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Label</td> <td>accounts</td> <td>fixed string (always same value)</td> </tr> <tr> <td>2</td> <td>Version number</td> <td>1</td> <td>integer</td> </tr> </tbody> </table> <p>Then follow several lines with the following format (one per account).</p> <table> <thead> <tr> <th>Field</th> <th>Description</th> <th>Example</th> <th>Type</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Account Type</td> <td>judge</td> <td>string</td> </tr> <tr> <td>2</td> <td>Full Name</td> <td>Per Austrin</td> <td>string</td> </tr> <tr> <td>3</td> <td>Username</td> <td>austrin</td> <td>string</td> </tr> <tr> <td>4</td> <td>Password</td> <td>B!5MWJiy</td> <td>string</td> </tr> </tbody> </table> <p>Account Types are: <code>team</code>, <code>judge</code>, <code>admin</code>, <code>analyst</code>.</p> <p>For accounts of type <code>team</code> username is on the form "team-nnn" where "nnn" is the zero padded team number as given in <a href="#teamstsv">teams.tsv</a>.</p> <h4 id="logostargz">logos.tar.gz</h4> <p>The file contains the logos for all teams, in a tar archive and compressed using gzip.</p> <p>The archive must contain a folder named "logos", with a logo in .png format, containing an alpha channel, for each team in the contest. The logo must be named &lt;team number&gt;.png, where team number is padded with 0 to 4 digits. Example: 0042.png. This folder may not contain any other files. If possible, the logos should be as square as possible and 600x600 pixels or larger (but don't upsize images or add unnecessary transparent borders).</p> <p>The archive may contain other files and folders. These must be ignored by the CCS when importing the logos.</p> <script async> function versionChange(selectList) { /* TODO: Redirect to same page on the other version instead of the overview. */ window.location.href = window.location.origin + '/' + selectList.value + '/' } var xmlhttp = new XMLHttpRequest(); xmlhttp.onreadystatechange = function() { if (this.readyState == 4 && this.status == 200) { var availableVersions = JSON.parse(this.responseText); var version = document.getElementsByClassName(['version'])[0]; currentVersion = '2020-03'; version.innerHTML = ''; var selectList = document.createElement("select"); selectList.id = "versionSelect"; version.appendChild(selectList); for (var i = 0; i < availableVersions.length; i++) { var option = document.createElement("option"); option.value = availableVersions[i]; option.text = availableVersions[i]; selectList.appendChild(option); } selectList.onchange = function(){versionChange(selectList);}; selectList.value = currentVersion; } }; xmlhttp.open("GET", '/versions.json', true); xmlhttp.send(); var links = document.querySelectorAll('[data-ccs-specs-version-item] a'); var version = "2020-03"; version = version.charAt(0).toUpperCase() + version.slice(1); var spec = version + " Specification"; for (var i = 0; i < links.length; i++) { links[i].innerHTML = spec; } </script> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"></div> <div class="next"><a href="/2020-03/contest_api" class="btn" title="Contest API" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2010-2023,</span> <a class="text-gray" href="https://github.com/icpc" rel="noreferrer" target="_blank">ICPC</a> Revision <a class="text-gray" href="https://github.com/icpc/ccs-specs/commit/eb097467fc085d439699e4c582e8d949d219eefa" title="eb097467fc085d439699e4c582e8d949d219eefa" rel="noreferrer" target="_blank">eb09746</a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v228">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="rundocs/jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>