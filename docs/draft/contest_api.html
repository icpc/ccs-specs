<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="Contest API Introduction This page describes an API for accessing information provided by a Contest Control System (CCS) or Contest Data Server. Su..."> <meta name="revised" content="d147f5f3dbd93a41293aa1934139d112fb45e090"> <meta name="author" content="ICPC"> <meta name="generator" content="rundocs/jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>Contest API · CCS Specs</title> <meta name="twitter:title" content="Contest API · CCS Specs"> <meta name="twitter:description" content="Contest API Introduction This page describes an API for accessing information provided by a Contest Control System (CCS) or Contest Data Server. Su..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@ICPC"> <meta name="twitter:url" content="/draft/contest_api"> <meta name="twitter:creator" content="@rundocs/jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="Contest API · CCS Specs"> <meta property="og:description" content="Contest API Introduction This page describes an API for accessing information provided by a Contest Control System (CCS) or Contest Data Server. Su..."> <meta property="og:locale" content="en"> <meta property="og:url" content="/draft/contest_api"> <meta property="og:type" content="article"> <meta property="article:author" content="ICPC"> <meta property="article:published_time" content="2020-10-12T18:33:12+02:00"> <meta property="article:modified_time" content="2023-04-25T15:04:29+02:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "/draft/contest_api" }, "headline": "Contest API · CCS Specs", "image": [], "author": { "@type": "Person", "name": "ICPC" }, "datePublished": "2020-10-12T18:33:12+02:00", "dateModified": "2023-04-25T15:04:29+02:00", "publisher": { "@type": "Organization", "name": "ICPC", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/5224374?v=4" } }, "description": "Contest API Introduction This page describes an API for accessing information provided by a Contest Control System (CCS) or Contest Data Server. Su..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="prev" href="/draft/ccs_system_requirements"><link rel="next" href="/draft/contest_package"><link rel="canonical" href="/draft/contest_api"><link rel="icon" type="image/svg+xml" href="/draft/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/draft/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/draft/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/draft/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/draft/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/draft/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "CCS Specs", baseurl: "/draft", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"> <div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/" title="CCS Specs"> <i class="fa fa-home"></i> CCS Specs </a> </div> <span class="version"></span> <form class="search pt-2" action="/draft/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> <li class="toc level-1 " data-sort="0" data-level="1" data-ccs-specs-version-item> <a class="d-flex flex-items-baseline " href="/draft/"> </a> </li> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/draft/ccs_system_requirements">1. CCS System Requirements</a> </li> <li class="toc level-1 current" data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline current" href="/draft/contest_api">2. Contest API</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/draft/contest_package">3. Contest Package Format</a> </li> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/draft/">CCS Specs</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/" title="/"> <i class="fa fa-home"></i> </a> </li> <li class="breadcrumb-item" data-ccs-specs-version-item> <a href="/draft/"></a> </li><li class="breadcrumb-item" aria-current="page">Contest API</li></ul> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="contest-api">Contest API</h1> <h2 id="introduction">Introduction</h2> <p>This page describes an API for accessing information provided by a <a href="ccs_system_requirements">Contest Control System</a> (CCS) or <a href="https://tools.icpc.global/cds/">Contest Data Server</a>. Such an API can be used by a multitude of clients:</p> <ul> <li>an external scoreboard</li> <li>a scoreboard resolver application</li> <li>contest analysis software, such as the ICAT toolset</li> <li>another "shadow" CCS, providing forwarding of submissions and all relevant information</li> <li>internally, to interface between the CCS server and judging instances</li> </ul> <p>This API is meant to be useful, not only at the ICPC World Finals, but more generally in any ICPC-style contest setup. It is meant to incorporate and supersede a number of deprecated or obsolete specifications amongst which the <em>JSON Scoreboard</em>, the <em>REST interface for source code fetching</em> and the <em>Contest start interface</em>.</p> <p>This REST interface is specified in conjunction with a new <a href="#event-feed">NDJSON event feed</a>, which provides all changes to this interface as CRUD-style events and is meant to supersede the old XML <em>Event Feed</em>.</p> <h2 id="general-design-principles">General design principles</h2> <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>.</p> <p>The interface is implemented as a HTTP REST interface that outputs information in <a href="https://en.wikipedia.org/wiki/JSON">JSON</a> format (<a href="https://tools.ietf.org/html/rfc7159">RFC 7159</a>). All access to the API must be provided over HTTPS to guard against eavesdropping on sensitive contest data and <a href="#authentication">authentication</a> credentials.</p> <h3 id="endpoint-urls">Endpoint URLs</h3> <p>The specific base URL of this API will be dependent on the server (e.g. main CCS or CDS) providing the service; in the specification we only indicate the relative paths of API endpoints with respect to a <strong>baseurl</strong>. In all the examples below the baseurl is <a href="https://example.com/api">https://example.com/api</a>.</p> <p>We follow standard REST practices so that a whole collection can be requested, e.g. at the URL path</p> <p><code> GET https://example.com/api/contests/wf14/teams</code></p> <p>while an object with a specific ID is requested as</p> <p><code> GET https://example.com/api/contests/wf14/teams/10</code></p> <p>A collection is always returned as an array of JSON objects. Every item in the array is a single object (and always includes the ID). When requesting a single object the exact same object is returned. E.g. the URL path</p> <p><code>GET baseurl/collection</code></p> <p>returns</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="err">&lt;id</span><span class="mi">1</span><span class="err">&gt;</span><span class="p">,</span><span class="w"> </span><span class="err">&lt;other</span><span class="w"> </span><span class="err">properties</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">object</span><span class="w"> </span><span class="err">id</span><span class="mi">1</span><span class="err">&gt;</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="err">&lt;id</span><span class="mi">2</span><span class="err">&gt;</span><span class="p">,</span><span class="w"> </span><span class="err">&lt;other</span><span class="w"> </span><span class="err">properties</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">object</span><span class="w"> </span><span class="err">id</span><span class="mi">2</span><span class="err">&gt;</span><span class="w"> </span><span class="p">},</span><span class="w">
     </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>while the URL path</p> <p><code>GET baseurl/&lt;collection&gt;/&lt;id1&gt;</code></p> <p>returns</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="err">&lt;id</span><span class="mi">1</span><span class="err">&gt;</span><span class="p">,</span><span class="w"> </span><span class="err">&lt;other</span><span class="w"> </span><span class="err">properties</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">object</span><span class="w"> </span><span class="err">id</span><span class="mi">1</span><span class="err">&gt;</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="http-headers">HTTP headers</h3> <p>A server should allow cross-origin requests by setting the <code>Access-Control-Allow-Origin</code> HTTP header:</p> <p><code>Access-Control-Allow-Origin: *</code></p> <p>A server should specify how clients should cache file downloads by setting the <code>Cache-Control</code> or <code>Expires</code> HTTP headers:</p> <p><code>Cache-Control: public, max-age=3600, s-maxage=18000</code></p> <p><code>Expires: Wed, 18 Jul 2018 07:28:00 GMT</code></p> <h3 id="http-methods">HTTP methods</h3> <p>The current version of this specification only requires support for the <code>GET</code> method, unless explicitly specified otherwise in an endpoint below (see e.g. <a href="#modifying-contests">PATCH start_time</a>). However, for future compatibility below are already listed other methods with their expected behavior, if implemented.</p> <ul> <li> <p><code>GET</code> Read data. This method is idempotent and does not modify any data. It can be used to request a whole collection or a specific object.</p> </li> <li> <p><code>POST</code> Create a new object. This can only be called on a collection endpoint, and the <code>id</code> property may not be specified as it is up to the server to assign one. If successful the response will contain a <code>Location</code> header pointing to the newly created object.</p> </li> <li> <p><code>PUT</code> Creates or replaces a specific object. This method is idempotent, can only be called on a specific object, and replaces its contents with the data provided. The payload data must be complete, i.e. the <code>id</code> is required and no partial updates are allowed.</p> </li> <li> <p><code>PATCH</code> Updates/modifies a specific object. This method is idempotent, can only be called on a specific object, and replaces the given properties with the data provided. For example <code>PATCH https://example.com/api/contests/wf14/teams/10</code> with JSON contents <code>{&quot;name&quot;:&quot;Our cool new team name&quot;}</code>.</p> </li> <li> <p><code>DELETE</code> Delete a specific object. Idempotent, but will return a <code>404</code> error code when repeated. Any provided data is ignored, and there is no response body if successful. Example: <code>DELETE https://example.com/api/contests/wf14/teams/8</code>. Note that deletes must keep <a href="#referential-integrity">referential integrity</a> intact.</p> </li> </ul> <h4 id="success-failure-and-http-responses">Success, Failure, and HTTP Responses</h4> <p>Standard <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP status codes</a> are returned to indicate success or failure. If successful DELETE will have no response body, GET on a collection will return the collection, and every other method will contain the current (updated) state of the object.</p> <p>If a POST, PUT, PATCH would cause any of the following issues it must fail, in addition to any endpoint or type-specific requirements:</p> <ul> <li>A PATCH on an <code>id</code> that doesn't exist. Will return a 404 error code.</li> <li>A PUT or PATCH containing an id that does not match the URL. Will return a 409 error code.</li> <li>A required property is missing.</li> <li>A property that must not be provided is provided.</li> <li>A property type that is incorrect or otherwise invalid (e.g. non-nullable property set to null).</li> <li>A reference to another object is invalid (to maintain <a href="#referential-integrity">referential integrity</a>).</li> </ul> <p>In addition to any endpoint or object-specific requirements, DELETE must fail if the object <code>id</code> doesn't exist, and return a 404 error code. If the object being deleted is referenced by another object, the server must either fail or implement a cascading delete (to maintain <a href="#referential-integrity">referential integrity</a>)</p> <p>When there is a failure using any method the response message body must include a JSON object that contains the properties ‘code' (a number, identical to the HTTP status code returned) and ‘message' (a string) with further information suitable for the client making the request, as per the following example:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"code"</span><span class="p">:</span><span class="mi">403</span><span class="p">,</span><span class="w">
 </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"Teams cannot send clarifications to another team"</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="authentication">Authentication</h3> <p>The API provider may allow unauthenticated access to information that is fully public, i.e. that may be visible to everyone including spectators and teams. If provided this must be read-only access (no <code>POST</code>, <code>PUT</code>, <code>PATCH</code> or <code>DELETE</code> methods allowed).</p> <p>All other access to the API must be controlled via authenticated accounts. The API provider must support <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">HTTP basic authentication</a> (<a href="https://tools.ietf.org/html/rfc7617">RFC</a>). This provides a standard and flexible method; besides HTTP basic auth, other forms of authentication can be offered as well.</p> <p>Depending on the client account's access, the API provider may completely hide some objects from the client, may omit certain properties, or may embargo or omit objects based on the current state of the contest.</p> <h3 id="referential-integrity">Referential integrity</h3> <p>Some properties in an object are references to IDs of other objects. When such a property has a non-<code>null</code> value, then the referenced object must exist. That is, the full set of data exposed by the API must at all times be referentially intact. This implies for example that before creating a <a href="#teams">team</a> with an <code>organization_id</code>, the <a href="#organizations">organization</a> must already exist. In reverse, that organization can only be deleted after the team is deleted, or alternatively, the team's <code>organization_id</code> is set to <code>null</code>.</p> <p>Furthermore, the ID property (see below) of objects are not allowed to change. However, note that a particular ID might be reused by first deleting an object and then creating a new object with the same ID.</p> <h3 id="json-property-types">JSON property types</h3> <p>Property types are specified as one of the standard JSON types, or one of the more specific types defined below. Implementations must be consistent with respect to the optional parts of each type, e.g. if the optional .uuu is included in any absolute timestamp it must be included when outputting all absolute timestamps.</p> <ul> <li>Strings (type <strong><code>string</code></strong> in the specification) are built-in JSON strings.</li> <li>Numbers (type <strong><code>number</code></strong> in the specification) are built-in JSON numbers.</li> <li>Booleans (type <strong><code>boolean</code></strong> in the specification) are built-in JSON booleans.</li> <li>Integers (type <strong><code>integer</code></strong> in the specification) are JSON numbers that are restricted to be integer. They should be represented in standard integer representation <code>(-)?[0-9]+</code>.</li> <li>Absolute timestamps (type <strong><code>TIME</code></strong> in the specification) are strings containing human-readable timestamps, given in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> extended combined date/time format with timezone: <code>yyyy-mm-ddThh:mm:ss(.uuu)?[+-]zz(:mm)?</code> (or timezone <code>Z</code> for UTC).</li> <li>Relative times (type <strong><code>RELTIME</code></strong> in the specification) are strings containing human-readable time durations, given in a slight modification of the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> extended time format: <code>(-)?(h)*h:mm:ss(.uuu)?</code></li> <li>Identifiers (type <strong><code>ID</code></strong> in the specification) are given as string consisting of characters <code>[a-zA-Z0-9_.-]</code> of length at most 36 and not starting with a <code>-</code> (dash) or <code>.</code> (dot) or ending with a <code>.</code> (dot). IDs are unique within each endpoint. IDs are assigned by the person or system that is the source of the object, and must be maintained by downstream systems. For example, the person configuring a contest on disk will typically define the ID for each team, and any CCS or CDS that exposes the team must use the same ID. Some IDs are also used as identifiable labels and are marked below along with the recommended format. These IDs should be meaningful for human communication (e.g. team "43", problem "A") and are as short as reasonable but not more than 10 characters. IDs not marked as labels may be random characters and cannot be assumed to be suitable for display purposes.</li> <li>Geographic locations (type <strong><code>LOCATION</code></strong> in the specification) are represented as a JSON object with properties as defined below.</li> <li>File references (type <strong><code>FILE</code></strong> in the specification) are represented as a JSON object with properties as defined below.</li> <li>Arrays (type <strong><code>array of &lt;type&gt;</code></strong> in the specification) are built-in JSON arrays of some type defined above.</li> <li>Nullable types (type <strong><code>&lt;type&gt; ?</code></strong> in the specification) are either a value of a type defined above, or <code>null</code>.</li> </ul> <p>Properties for geographic location objects:</p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>latitude</td> <td>number</td> <td>Latitude in degrees with value between -90 and 90.</td> </tr> <tr> <td>longitude</td> <td>number</td> <td>Longitude in degrees with value between -180 and 180.</td> </tr> </tbody> </table> <p>Properties for file reference objects:</p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>href</td> <td>string ?</td> <td>URL where the resource can be found. Relative URLs are relative to the <code>baseurl</code>. Must point to a file of intended mime-type. Resource must be accessible using the exact same (possibly none) authentication as the call that returned this data.</td> </tr> <tr> <td>filename</td> <td>string</td> <td>POSIX compliant filename. Filenames must be unique within the endpoint object where they are used. I.e. an organization can have (multiple) <code>logo</code> and <code>country_flag</code> file references, they must all have a different filename, but different organizations may have files with the same filename.</td> </tr> <tr> <td>hash</td> <td>string ?</td> <td>MD5 hash of the file referenced.</td> </tr> <tr> <td>mime</td> <td>string</td> <td>Mime type of resource.</td> </tr> <tr> <td>width</td> <td>integer ?</td> <td>Width of the image. Required for files with mime type image/*.</td> </tr> <tr> <td>height</td> <td>integer ?</td> <td>Height of the image. Required for files with mime type image/*.</td> </tr> </tbody> </table> <p>The <code>href</code> property may be an <a href="https://tools.ietf.org/html/rfc3986">absolute or relative URL</a>; relative URLs must be interpreted relative to the <code>baseurl</code> of the API. For example, if <code>baseurl</code> is <a href="https://example.com/api">https://example.com/api</a>, then the following are equivalent JSON response snippets pointing to the same location:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"https://example.com/api/contests/wf14/submissions/187/files"</span><span class="w">
  </span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"contests/wf14/submissions/187/files"</span><span class="w">
</span></code></pre>  </div></div> <p>For images, the supported mime types are image/png, image/jpeg, and image/svg+xml.</p> <p>For images in SVG format, i.e. those having a mime type of image/svg+xml, the values of <code>width</code> and <code>height</code> should be the viewport width and height in pixels when possible, but otherwise the actual values don't matter as long as they are positive and represent the correct aspect ratio.</p> <p>If implementing support for uploading files pointed to by resource links, substitute the href property with a data property with a base64 encoded string of the associated file contents as the value.</p> <p>For example</p> <p><code> PUT https://example.com/api/contests/wf14/organizations/inst105</code></p> <p>with JSON data</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"inst105"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Carnegie Mellon University"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;base64 string&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">160</span><span class="p">,</span><span class="w"> </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">160</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="capabilities">Capabilities</h3> <p>The API specifies several capabilities that define behaviors that clients can expect and actions they can perform. For instance, a team account will typically have access to a "team_submit" capability that allows a team to perform POST operations on the submissions endpoint, but doesn't allow it to set the submission id or timestamp; an administrator may have access to a "contest_start" capability that allows it to PATCH the start time of the contest. These coarse-grained capabilities allow more flexibility for contest administrators and tools to define capabilities that match the requirements of a specific contest, e.g. whether teams can submit clarifications or not.</p> <p>All capabilities are listed in the table below, and are defined inline with each endpoint. Clients can use the <a href="#access">Access</a> endpoint to see which capabilities they have access to.</p> <table> <thead> <tr> <th align="left">Capability</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><a href="#modifying-contests">contest_start</a></td> <td align="left">Control the contest's start time</td> </tr> <tr> <td align="left"><a href="#modifying-contests">contest_thaw</a></td> <td align="left">Control the contest's thaw time</td> </tr> <tr> <td align="left"><a href="#modifying-submissions">team_submit</a></td> <td align="left">Submit as a team</td> </tr> <tr> <td align="left"><a href="#modifying-clarifications">team_clar</a></td> <td align="left">Submit clarifications as a team</td> </tr> <tr> <td align="left"><a href="#modifying-submissions">proxy_submit</a></td> <td align="left">Submit as a shared team proxy</td> </tr> <tr> <td align="left"><a href="#modifying-clarifications">proxy_clar</a></td> <td align="left">Submit clarifications as a shared team proxy</td> </tr> <tr> <td align="left"><a href="#modifying-submissions">admin_submit</a></td> <td align="left">Submit as an admin</td> </tr> <tr> <td align="left"><a href="#modifying-clarifications">admin_clar</a></td> <td align="left">Submit clarifications as an admin</td> </tr> </tbody> </table> <p>TODO - add capabilities related to team view and awards.</p> <h3 id="notification-format">Notification format</h3> <p>There are two mechanisms that clients can use to receive notifications of API updates (events): a webhook and a streaming HTTP feed. Both mechanisms use the same payload format, but have different benefits, drawbacks, and ways to access. Webhooks are typically better for internet-scale, asynchronous processing, and disconnected systems; the HTTP feed, on the other hand, might be better for browser-based applications and onsite contests.</p> <p>The notifications are effectively a changelog of create, update, or delete events that have occurred in the REST endpoints. Some endpoints (specifically the <a href="#scoreboard">Scoreboard</a> and the Event feed) are aggregated data, and so these will only ever update due to some other REST endpoint updating. For this reason there is no explicit event for these, since there will always be another event sent.</p> <p>The events are served as JSON objects, with every event corresponding to a change in a single object (submission, judgement, language, team, etc.) or entire collection. The general format for events is:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;type&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;JSON</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">object&gt;</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">type</td> <td align="left">string</td> <td align="left">The type of contest object that changed. Can be used for filtering.</td> </tr> <tr> <td align="left">id</td> <td align="left">ID ?</td> <td align="left">The id of the object that changed, or null for the entire collection/singleton.</td> </tr> <tr> <td align="left">data</td> <td align="left">array or object ?</td> <td align="left">The updated value, i.e. what would be returned if calling the corresponding API endpoint at this time: an array, object, or null for deletions.</td> </tr> <tr> <td align="left">token</td> <td align="left">string ?</td> <td align="left">An optional token used to identify this notification. For one use see event feed <a href="#reconnection">Reconnection</a> below.</td> </tr> </tbody> </table> <p>All event types correspond to an API endpoint, as specified in the table below.</p> <table> <thead> <tr> <th align="left">Type</th> <th align="left">API Endpoint</th> </tr> </thead> <tbody> <tr> <td align="left">contest</td> <td align="left"><code>/contests/&lt;id&gt;</code></td> </tr> <tr> <td align="left">judgement-types</td> <td align="left"><code>/contests/&lt;id&gt;/judgement-types/&lt;id&gt;</code></td> </tr> <tr> <td align="left">languages</td> <td align="left"><code>/contests/&lt;id&gt;/languages/&lt;id&gt;</code></td> </tr> <tr> <td align="left">problems</td> <td align="left"><code>/contests/&lt;id&gt;/problems/&lt;id&gt;</code></td> </tr> <tr> <td align="left">groups</td> <td align="left"><code>/contests/&lt;id&gt;/groups/&lt;id&gt;</code></td> </tr> <tr> <td align="left">organizations</td> <td align="left"><code>/contests/&lt;id&gt;/organizations/&lt;id&gt;</code></td> </tr> <tr> <td align="left">teams</td> <td align="left"><code>/contests/&lt;id&gt;/teams/&lt;id&gt;</code></td> </tr> <tr> <td align="left">persons</td> <td align="left"><code>/contests/&lt;id&gt;/persons/&lt;id&gt;</code></td> </tr> <tr> <td align="left">accounts</td> <td align="left"><code>/contests/&lt;id&gt;/accounts/&lt;id&gt;</code></td> </tr> <tr> <td align="left">state</td> <td align="left"><code>/contests/&lt;id&gt;/state</code></td> </tr> <tr> <td align="left">submissions</td> <td align="left"><code>/contests/&lt;id&gt;/submissions/&lt;id&gt;</code></td> </tr> <tr> <td align="left">judgements</td> <td align="left"><code>/contests/&lt;id&gt;/judgements/&lt;id&gt;</code></td> </tr> <tr> <td align="left">runs</td> <td align="left"><code>/contests/&lt;id&gt;/runs/&lt;id&gt;</code></td> </tr> <tr> <td align="left">clarifications</td> <td align="left"><code>/contests/&lt;id&gt;/clarifications/&lt;id&gt;</code></td> </tr> <tr> <td align="left">awards</td> <td align="left"><code>/contests/&lt;id&gt;/awards/&lt;id&gt;</code></td> </tr> <tr> <td align="left">commentary</td> <td align="left"><code>/contests/&lt;id&gt;/commentary/&lt;id&gt;</code></td> </tr> </tbody> </table> <p>Each event is a notification that an object or a collection has changed (and hence the contents of the corresponding endpoint) to <code>data</code>.</p> <p>If <code>type</code> is <code>contest</code>, then <code>id</code> must be null and the endpoint <code>/contests/&lt;id&gt;</code> will return the contents of <code>data</code>.</p> <p>If <code>id</code> is not null, then the endpoint <code>/contests/&lt;contest_id&gt;/&lt;type&gt;/&lt;id&gt;</code> will return the contents of <code>data</code>.</p> <p>If <code>id</code> is null, then the endpoint <code>/contests/&lt;contest_id&gt;/&lt;type&gt;</code> will return the contents of <code>data</code>.</p> <h4 id="examples">Examples</h4> <p>Event:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contest"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dress2016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016 ICPC World Finals Dress Rehearsal"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"countdown_pause_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:03:38.749"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2:30:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Means that endpoint <code>/contests/dress2016</code> has been updated to:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dress2016"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016 ICPC World Finals Dress Rehearsal"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nl">"countdown_pause_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:03:38.749"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2:30:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Event:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"problems"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"asteroids"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"A"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Asteroid Rangers"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"blue"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#00f"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">10</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"bottles"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"B"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Curvy Little Bottles"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"gray"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#808080"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mf">3.5</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">15</span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Means that endpoint <code>/contests/&lt;contest_id&gt;/problems</code> has been updated to:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"asteroids"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"A"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Asteroid Rangers"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"blue"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#00f"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">10</span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"bottles"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"B"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Curvy Little Bottles"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"gray"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#808080"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mf">3.5</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">15</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>and the child endpoints <code>/contests/&lt;contest_id&gt;/problems/asteroids</code> and <code>/contests/&lt;contest_id&gt;/problems/bottles</code> are updated accordingly.</p> <p>Event:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submissions"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"187"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"187"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"problem_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"language_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-java"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T11:22:05.034+01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1:22:05.034"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entry_point"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"contests/wf14/submissions/187/files"</span><span class="p">,</span><span class="nl">"filename"</span><span class="p">:</span><span class="s2">"files.zip"</span><span class="p">,</span><span class="nl">"mime"</span><span class="p">:</span><span class="s2">"application/zip"</span><span class="p">}]</span><span class="w">   
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Means that endpoint <code>/contests/&lt;contest_id&gt;/submissions/187</code> has been updated to:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"187"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"problem_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"language_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-java"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T11:22:05.034+01"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1:22:05.034"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"entry_point"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"contests/wf14/submissions/187/files"</span><span class="p">,</span><span class="nl">"filename"</span><span class="p">:</span><span class="s2">"files.zip"</span><span class="p">,</span><span class="nl">"mime"</span><span class="p">:</span><span class="s2">"application/zip"</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="extensibility">Extensibility</h3> <p>This specification is meant to cover the basic data of contests, with the idea that server/client implementations can extend this with more endpoints, properties, and/or capabilities. The following requirements are meant to ease extensibility:</p> <ul> <li>Clients should accept additional (unknown) event types in notifications.</li> <li>Clients should accept additional (unknown) properties in endpoints.</li> <li>Clients should accept additional (unknown) capabilities.</li> <li>Servers should not expect clients to recognize more than the basic, required specification.</li> <li>In this specification and extensions, a property with value <code>null</code> may be left out by the server (i.e. not be present). A client must treat a property with value <code>null</code> equivalently as that property not being present.</li> </ul> <h2 id="interface-specification">Interface specification</h2> <p>The following list of API endpoints may be supported, as detailed below. All endpoints should support <code>GET</code>; specific details on other methods are mentioned below.</p> <h3 id="types-of-endpoints">Types of endpoints</h3> <p>The endpoints can be categorized into 4 groups as follows:</p> <ul> <li>Metadata: api, access</li> <li>Configuration: accounts, contests, judgement-types, languages, problems, groups, organizations, persons, teams;</li> <li>Live data: state, submissions, judgements, runs, clarifications, awards, commentary;</li> <li>Aggregate data: scoreboard, event-feed.</li> </ul> <p>The metadata endpoints contain data about the API, and are the only required API endpoints. They are not included in the event feed. The access endpoint specifies which other endpoints are offered by the API. That is, any endpoints and their properties listed in <code>access</code> must be provided (possibly with a <code>null</code> value when the property is optional), and only these endpoints and properties.</p> <p>Configuration is normally set before contest start. Is not expected to, but could occasionally be updated during a contest. It does not have associated timestamp/contest time property. Updates are notified via the event feed.</p> <p>Live data is generated during the contest and new objects are expected. Data is immutable though: only inserts, no updates or deletes of objects. It does have associated timestamp/contest time property. Inserts and deletes are notified via the event feed. <strong>Note</strong>: judgements are the exception to immutability in a weak sense: they get updated once with the final verdict.</p> <p>Aggregate data: Only <code>GET</code> makes sense. These are not included in the event feed, also note that these should not be considered proper REST endpoints, and that the <code>event-feed</code> endpoint is a streaming feed in NDJSON format.</p> <p>Note that <code>api</code>, <code>access</code>, <code>account</code>, <code>state</code>, <code>scoreboard</code>, and <code>event-feed</code> are singular nouns and indeed contain only a single object.</p> <h3 id="required-and-optional-endpoints">Required and optional endpoints</h3> <p>The only required endpoints are metadata: <code>api</code> and <code>access</code>. The only requirements for properties are that collections must have an <code>id</code> property. <a href="#referential-integrity">Referential integrity</a> must also be kept (for example, if a submission has a team_id, then teams must be supported).</p> <p>All other endpoints and properties are optional. <code>access</code> exists so that you can discover which endpoints and properties are supported by a given provider.</p> <p>In practice there are different types of providers that will offer similar sets of endpoints. Some examples:</p> <ul> <li>A contest management system will support at least contests and teams, and may support other configuration endpoints.</li> <li>A CCS will support at least submissions, judgements, and dependencies of these. It will likely support a scoreboard, and usually an event-feed.</li> </ul> <p>Separate specifications (for example, the CCS System Requirements) will provide more information on which endpoints and properties can be expected, often in the form of a minimal <code>access</code> response.</p> <h3 id="table-column-description">Table column description</h3> <p>In the tables below, the columns are:</p> <ul> <li>Name: Property name; object sub-properties are indicated as <code>property.subproperty</code>.</li> <li>Type: Data type of the property; one of the <a href="#json-property-types">types listed above</a>.</li> <li>Description: Description of the meaning of the property and any special considerations. Required means that the property must be present and must not be <code>null</code>. Default values specify how missing or <code>null</code> values should be interpreted.</li> </ul> <p>Note that all results returned from endpoints:</p> <ul> <li>Must only have <code>null</code> values if the type of the property is <code>&lt;type&gt; ?</code>.</li> <li>Must contain all properties specified in the <a href="#access">Access</a> endpoint that have non-<code>null</code> values.</li> <li>Should not contain any properties not specified in the <a href="#access">Access</a> endpoint.</li> </ul> <h3 id="filtering">Filtering</h3> <p>Endpoints that return a JSON array must allow filtering on any property with type ID (except the <code>id</code> property) by passing it as a query argument. For example, clarifications can be filtered on the recipient by passing <code>to_team_id=X</code>. To filter on a <code>null</code> value, pass an empty string, i.e. <code>to_team_id=</code>. It must be possible to filter on multiple different properties simultaneously, with the meaning that all conditions must be met (they are logically <code>AND</code>ed). Note that filtering on any other property, including property with the type array of ID, does not have to be supported.</p> <h3 id="api-information">API information</h3> <p>Provides information about the API.</p> <p>The following endpoint is associated with API information:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/</code></td> <td align="left">application/json</td> <td align="left">JSON object representing information about the API with all properties defined in the table below.</td> </tr> </tbody> </table> <p>Properties of version object:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">version</td> <td align="left">string</td> <td align="left">Version of the API. For this version must be the string <code>draft</code>. Will be of the form <code>&lt;yyyy&gt;-&lt;mm&gt;</code>, <code>&lt;yyyy&gt;-&lt;mm&gt;-draft</code>, or simply <code>draft</code>.</td> </tr> <tr> <td align="left">version_url</td> <td align="left">string</td> <td align="left">Link to documentation for this version of the API.</td> </tr> <tr> <td align="left">name</td> <td align="left">string ?</td> <td align="left">Name of this data provider.</td> </tr> <tr> <td align="left">logo</td> <td align="left">array of FILE ?</td> <td align="left">Logo for this data provider, intended to be an image with aspect ratio near 1:1. Only allowed mime types are image/*. The different files in the array should be different file formats and/or sizes of the same image.</td> </tr> </tbody> </table> <h4 id="examples-1">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ccs-specs.icpc.io/draft/contest_api"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kattis"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/logo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36dcf7975b179447783cdfc857ce9ae0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"logo.png"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="w">
   </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="access">Access</h3> <p>Information on which endpoints and properties are visible to the current client, and what <a href="#capabilities">capabilities</a> this client has access to or can perform.</p> <p>The following endpoint is associated with access:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/access</code></td> <td align="left">application/json</td> <td align="left">JSON object representing the current client's access with all properties defined in the table below.</td> </tr> </tbody> </table> <p>Properties of access objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">capabilities</td> <td align="left">array of string</td> <td align="left">An array of <a href="#capabilities">capabilities</a> that the current client has. The array may be empty.</td> </tr> <tr> <td align="left">endpoints</td> <td align="left">array of endpoint objects</td> <td align="left">An array of endpoint objects that are visible to the current client, as described below. The array may be empty.</td> </tr> </tbody> </table> <p>Properties of endpoint objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">type</td> <td align="left">string</td> <td align="left">The type of the endpoint, e.g. "problems". See table in <a href="#notification-format">Notification format</a> for the list of types.</td> </tr> <tr> <td align="left">properties</td> <td align="left">array of string</td> <td align="left">An array of supported properties that the current client has visibility to. The array must not be empty. If the array would be empty, the endpoint object should instead not be included in the endpoints array.</td> </tr> </tbody> </table> <p>This endpoint provides information about what is accessible to a specific client in a live contest, and hence will not exist in a contest package.</p> <p>The set of properties listed must always support <a href="#referential-integrity">referential integrity</a>, i.e. if a property with a ID value referring to some type of object is present the endpoint representing that type of object (and its ID property) must also be present. E.g. if <code>group_ids</code> is listed among the properties in the <code>team</code> endpoint object, that means that there must be an endpoint object with type <code>groups</code> containing at least <code>ID</code> in its properties.</p> <p>This information is provided so that clients know what endpoints are available, what notifications may happen, and what capabilities they have, regardless of whether objects currently exist or the capability is currently active. For instance, a client logged in with a team account would see the problems type and team_submit capability before a contest starts, even through they cannot see any problems nor submit yet. Clients are not expected to call this endpoint more than once since the response should not normally change during a contest.</p> <h4 id="examples-2">Examples</h4> <p>Request:</p> <p><code>GET https://example.com/api/contests/wf14/access</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"patch_time"</span><span class="p">],</span><span class="w">
   </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contests"</span><span class="p">,</span><span class="w"> </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"name"</span><span class="p">,</span><span class="s2">"formal_name"</span><span class="p">,</span><span class="err">...</span><span class="p">]},</span><span class="w">
     </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"problems"</span><span class="p">,</span><span class="w"> </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"label"</span><span class="p">,</span><span class="err">...</span><span class="p">]},</span><span class="w">
     </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submissions"</span><span class="p">,</span><span class="w"> </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"language_id"</span><span class="p">,</span><span class="s2">"reaction"</span><span class="p">,</span><span class="err">...</span><span class="p">]}</span><span class="w">
     </span><span class="err">...</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>or:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"team_submit"</span><span class="p">],</span><span class="w">
   </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contests"</span><span class="p">,</span><span class="w"> </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"name"</span><span class="p">,</span><span class="s2">"formal_name"</span><span class="p">,</span><span class="err">...</span><span class="p">]},</span><span class="w">
     </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"problems"</span><span class="p">,</span><span class="w"> </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"label"</span><span class="p">,</span><span class="err">...</span><span class="p">]},</span><span class="w">
     </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"submissions"</span><span class="p">,</span><span class="w"> </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"language_id"</span><span class="p">,</span><span class="err">...</span><span class="p">]},</span><span class="w">
     </span><span class="err">...</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="contests">Contests</h3> <p>Provides information on the current contest.</p> <p>The following endpoints are associated with contest:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests</code></td> <td align="left">application/json</td> <td align="left">JSON array of all contests with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single contest with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of contest objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the current contest.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Short display name of the contest.</td> </tr> <tr> <td align="left">formal_name</td> <td align="left">string ?</td> <td align="left">Full name of the contest. Defaults to value of <code>name</code>.</td> </tr> <tr> <td align="left">start_time</td> <td align="left">TIME ?</td> <td align="left">The scheduled start time of the contest, may be <code>null</code> if the start time is unknown or the countdown is paused.</td> </tr> <tr> <td align="left">countdown_pause_time</td> <td align="left">RELTIME ?</td> <td align="left">The amount of seconds left when countdown to contest start is paused. At no time may both <code>start_time</code> and <code>countdown_pause_time</code> be non-<code>null</code>.</td> </tr> <tr> <td align="left">duration</td> <td align="left">RELTIME</td> <td align="left">Length of the contest.</td> </tr> <tr> <td align="left">scoreboard_freeze_duration</td> <td align="left">RELTIME ?</td> <td align="left">How long the scoreboard is frozen before the end of the contest. Defaults to <code>0:00:00</code>.</td> </tr> <tr> <td align="left">scoreboard_thaw_time</td> <td align="left">TIME ?</td> <td align="left">The scheduled thaw time of the contest, may be <code>null</code> if the thaw time is unknown or not set.</td> </tr> <tr> <td align="left">scoreboard_type</td> <td align="left">string</td> <td align="left">What type of scoreboard is used for the contest. Must be either <code>pass-fail</code> or <code>score</code>.</td> </tr> <tr> <td align="left">penalty_time</td> <td align="left">integer</td> <td align="left">Penalty time for a wrong submission, in minutes. Only relevant if scoreboard_type is <code>pass-fail</code>.</td> </tr> <tr> <td align="left">banner</td> <td align="left">array of FILE ?</td> <td align="left">Banner for this contest, intended to be an image with a large aspect ratio around 8:1. Only allowed mime types are image/*.</td> </tr> <tr> <td align="left">logo</td> <td align="left">array of FILE ?</td> <td align="left">Logo for this contest, intended to be an image with aspect ratio near 1:1. Only allowed mime types are image/*.</td> </tr> <tr> <td align="left">location</td> <td align="left">LOCATION ?</td> <td align="left">Location where the contest is held.</td> </tr> </tbody> </table> <p>The expected/typical use of <code>countdown_pause_time</code> is that once a <code>start_time</code> is defined and close, the countdown may be paused due to unforeseen delays. In this case, <code>start_time</code> should be set to <code>null</code> and <code>countdown_pause_time</code> to the number of seconds left to count down. The <code>countdown_pause_time</code> may change to indicate approximate delay. Countdown is resumed by setting a new <code>start_time</code> and resetting <code>countdown_pause_time</code> to <code>null</code>.</p> <h4 id="modifying-contests">Modifying contests</h4> <p>Clients with the <code>contest_start</code> <a href="#capabilities">capability</a> have the ability to set or clear the contest start time via a PATCH method.</p> <p>The PATCH must include a valid JSON object with two or three properties: the contest <code>id</code> (used for verification), a <code>start_time</code> (a <code>&lt;TIME&gt;</code> value or <code>null</code>), and an optional <code>countdown_pause_time</code> (<code>&lt;RELTIME&gt;</code>). As above, <code>countdown_pause_time</code> can only be non-null when start time is null.</p> <p>The request should fail with a 403 error code if the contest is started or within 30s of starting, or if the new start time is in the past or within 30s.</p> <p>Clients with the <code>contest_thaw</code> <a href="#capabilities">capability</a> have the ability to set a time when the contest will be thawed via a PATCH method.</p> <p>The PATCH must include a valid JSON object with two properties: the contest <code>id</code> (used for verification) and a <code>scoreboard_thaw_time</code>, a <code>&lt;TIME&gt;</code> value.</p> <p>The request should succeed with a 204 response code with no body if the server changed the thaw time to the time specified.</p> <p>The server may also thaw the contest at the current server time if the provided <code>scoreboard_thaw_time</code> is in the past. In that case the server must reply with a 200 response code and the modified contest as body, so the client knows the server used a different thaw time.</p> <p>The request should fail with a 403 error code if the contest can't be thawed at the given time, for example because the thaw time is before the contest end, the contest is already thawed or the server does not support setting this specific thaw time.</p> <h4 id="examples-3">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf2014</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wf2014"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014 ICPC World Finals"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"formal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38th Annual World Finals of the ACM International Collegiate Programming Contest"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T10:00:00+01"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5:00:00"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"scoreboard_freeze_duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1:00:00"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"scoreboard_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pass-fail"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"penalty_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
   </span><span class="nl">"banner"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
       </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/api/contests/wf2014/banner"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"banner.png"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"mime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">1920</span><span class="p">,</span><span class="w">
       </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">240</span><span class="w">
   </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/contests/dress2016</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dress2016"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016 ICPC World Finals Dress Rehearsal"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nl">"countdown_pause_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:03:38.749"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2:30:00"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"scoreboard_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pass-fail"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"penalty_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> PATCH https://example.com/api/contests/wf2014</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wf2014"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T10:00:00+01"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> PATCH https://example.com/api/contests/wf2016</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wf2016"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> PATCH https://example.com/api/contests/wf2014</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wf2014"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"scoreboard_thaw_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T19:30:00+01"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="judgement-types">Judgement Types</h3> <p>Judgement types are the possible responses from the system when judging a submission.</p> <p>The following endpoints are associated with judgement types:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/judgement-types</code></td> <td align="left">application/json</td> <td align="left">JSON array of all judgement types with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/judgement-types/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single judgement type with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of judgement type objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the judgement type, a 2-3 letter capitalized shorthand, see table below.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Name of the judgement. (might not match table below, e.g. if localized).</td> </tr> <tr> <td align="left">penalty</td> <td align="left">boolean</td> <td align="left">Whether this judgement causes penalty time. Required iff contest:penalty_time is present.</td> </tr> <tr> <td align="left">solved</td> <td align="left">boolean</td> <td align="left">Whether this judgement is considered correct.</td> </tr> </tbody> </table> <h4 id="known-judgement-types">Known judgement types</h4> <p>The list below contains standardized identifiers for known judgement types. These identifiers should be used by a server. Please create a pull request at <a href="https://github.com/icpc/ccs-specs">https://github.com/icpc/ccs-specs</a> when there are judgement types missing.</p> <p>The column <strong>Big 5</strong> lists the "big 5" equivalents, if any. A <code>*</code> in the column means that the judgement is one of the "big 5".</p> <p>The <strong>Translation</strong> column lists other judgements the judgement can safely be translated to, if a system does not support it.</p> <table> <thead> <tr> <th align="left">ID</th> <th align="left">Name</th> <th align="left">A.k.a.</th> <th align="left">Big 5</th> <th align="left">Translation</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">AC</td> <td align="left">Accepted</td> <td align="left">Correct, Yes (YES)</td> <td align="left">*</td> <td align="left">-</td> <td align="left">Solves the problem</td> </tr> <tr> <td align="left">RE</td> <td align="left">Rejected</td> <td align="left">Incorrect, No (NO)</td> <td align="left">WA?</td> <td align="left">-</td> <td align="left">Does not solve the problem</td> </tr> <tr> <td align="left">WA</td> <td align="left">Wrong Answer</td> <td align="left"></td> <td align="left">*</td> <td align="left">RE</td> <td align="left">Output is not correct</td> </tr> <tr> <td align="left">TLE</td> <td align="left">Time Limit Exceeded</td> <td align="left"></td> <td align="left">*</td> <td align="left">RE</td> <td align="left">Too slow</td> </tr> <tr> <td align="left">RTE</td> <td align="left">Run-Time Error</td> <td align="left"></td> <td align="left">*</td> <td align="left">RE</td> <td align="left">Crashes</td> </tr> <tr> <td align="left">CE</td> <td align="left">Compile Error</td> <td align="left"></td> <td align="left">*</td> <td align="left">RE</td> <td align="left">Does not compile</td> </tr> <tr> <td align="left">APE</td> <td align="left">Accepted - Presentation Error</td> <td align="left">Presentation Error, also see AC, PE, and IOF</td> <td align="left">AC</td> <td align="left">AC</td> <td align="left">Solves the problem, although formatting is wrong</td> </tr> <tr> <td align="left">OLE</td> <td align="left">Output Limit Exceeded</td> <td align="left"></td> <td align="left">WA</td> <td align="left">WA, RE</td> <td align="left">Output is larger than allowed</td> </tr> <tr> <td align="left">PE</td> <td align="left">Presentation Error</td> <td align="left">Output Format Error (OFE), Incorrect Output Format (IOF)</td> <td align="left">WA</td> <td align="left">WA, RE</td> <td align="left">Data in output is correct, but formatting is wrong</td> </tr> <tr> <td align="left">EO</td> <td align="left">Excessive Output</td> <td align="left"></td> <td align="left">WA</td> <td align="left">WA, RE</td> <td align="left">A correct output is produced, but also additional output</td> </tr> <tr> <td align="left">IO</td> <td align="left">Incomplete Output</td> <td align="left"></td> <td align="left">WA</td> <td align="left">WA, RE</td> <td align="left">Parts, but not all, of a correct output is produced</td> </tr> <tr> <td align="left">NO</td> <td align="left">No Output</td> <td align="left"></td> <td align="left">WA</td> <td align="left">IO, WA, RE</td> <td align="left">There is no output</td> </tr> <tr> <td align="left">WTL</td> <td align="left">Wallclock Time Limit Exceeded</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">TLE, RE</td> <td align="left">CPU time limit is not exceeded, but wallclock is</td> </tr> <tr> <td align="left">ILE</td> <td align="left">Idleness Limit Exceeded</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">WTL, TLE, RE</td> <td align="left">No CPU time used for too long</td> </tr> <tr> <td align="left">TCO</td> <td align="left">Time Limit Exceeded - Correct Output</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">TLE, RE</td> <td align="left">Too slow but producing correct output</td> </tr> <tr> <td align="left">TWA</td> <td align="left">Time Limit Exceeded - Wrong Answer</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">TLE, RE</td> <td align="left">Too slow and also incorrect output</td> </tr> <tr> <td align="left">TPE</td> <td align="left">Time Limit Exceeded - Presentation Error</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">TWA, TLE, RE</td> <td align="left">Too slow and also presentation error</td> </tr> <tr> <td align="left">TEO</td> <td align="left">Time Limit Exceeded - Excessive Output</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">TWA, TLE, RE</td> <td align="left">Too slow and also excessive output</td> </tr> <tr> <td align="left">TIO</td> <td align="left">Time Limit Exceeded - Incomplete Output</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">TWA, TLE, RE</td> <td align="left">Too slow and also incomplete output</td> </tr> <tr> <td align="left">TNO</td> <td align="left">Time Limit Exceeded - No Output</td> <td align="left"></td> <td align="left">TLE</td> <td align="left">TIO, TWA, TLE, RE</td> <td align="left">Too slow and also no output</td> </tr> <tr> <td align="left">MLE</td> <td align="left">Memory Limit Exceeded</td> <td align="left"></td> <td align="left">RTE</td> <td align="left">RTE, RE</td> <td align="left">Uses too much memory</td> </tr> <tr> <td align="left">SV</td> <td align="left">Security Violation</td> <td align="left">Illegal Function (IF), Restricted Function</td> <td align="left">RTE</td> <td align="left">RTE, RE</td> <td align="left">Uses some functionality that is not allowed by the system</td> </tr> <tr> <td align="left">IF</td> <td align="left">Illegal Function</td> <td align="left">Illegal Function (IF), Restricted Function</td> <td align="left">RTE</td> <td align="left">SV, RTE, RE</td> <td align="left">Calls a function that is not allowed by the system</td> </tr> <tr> <td align="left">RCO</td> <td align="left">Run-Time Error - Correct Output</td> <td align="left"></td> <td align="left">RTE</td> <td align="left">RTE, RE</td> <td align="left">Crashing but producing correct output</td> </tr> <tr> <td align="left">RWA</td> <td align="left">Run-Time Error - Wrong Answer</td> <td align="left"></td> <td align="left">RTE</td> <td align="left">RTE, RE</td> <td align="left">Crashing and also incorrect output</td> </tr> <tr> <td align="left">RPE</td> <td align="left">Run-Time Error - Presentation Error</td> <td align="left"></td> <td align="left">RTE</td> <td align="left">RWA, RTE, RE</td> <td align="left">Crashing and also presentation error</td> </tr> <tr> <td align="left">REO</td> <td align="left">Run-Time Error - Excessive Output</td> <td align="left"></td> <td align="left">RTE</td> <td align="left">RWA, RTE, RE</td> <td align="left">Crashing and also excessive output</td> </tr> <tr> <td align="left">RIO</td> <td align="left">Run-Time Error - Incomplete Output</td> <td align="left"></td> <td align="left">RTE</td> <td align="left">RWA, RTE, RE</td> <td align="left">Crashing and also incomplete output</td> </tr> <tr> <td align="left">RNO</td> <td align="left">Run-Time Error - No Output</td> <td align="left"></td> <td align="left">RTE</td> <td align="left">RIO, RWA, RTE, RE</td> <td align="left">Crashing and also no output</td> </tr> <tr> <td align="left">CTL</td> <td align="left">Compile Time Limit Exceeded</td> <td align="left"></td> <td align="left">CE</td> <td align="left">CE, RE</td> <td align="left">Compilation took too long</td> </tr> <tr> <td align="left">JE</td> <td align="left">Judging Error</td> <td align="left"></td> <td align="left">-</td> <td align="left">-</td> <td align="left">Something went wrong with the system</td> </tr> <tr> <td align="left">SE</td> <td align="left">Submission Error</td> <td align="left"></td> <td align="left">-</td> <td align="left">-</td> <td align="left">Something went wrong with the submission</td> </tr> <tr> <td align="left">CS</td> <td align="left">Contact Staff</td> <td align="left">Other</td> <td align="left">-</td> <td align="left">-</td> <td align="left">Something went wrong</td> </tr> </tbody> </table> <h4 id="examples-4">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/judgement-types</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CE"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compiler Error"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"penalty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nl">"solved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AC"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"penalty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nl">"solved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/judgement-types/AC</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AC"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"penalty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nl">"solved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="languages">Languages</h3> <p>Languages that are available for submission at the contest.</p> <p>The following endpoints are associated with languages:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/languages</code></td> <td align="left">application/json</td> <td align="left">JSON array of all languages with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/languages/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single language with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of language objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the language from table below.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Name of the language (might not match table below, e.g. if localized).</td> </tr> <tr> <td align="left">entry_point_required</td> <td align="left">boolean</td> <td align="left">Whether the language requires an entry point.</td> </tr> <tr> <td align="left">entry_point_name</td> <td align="left">string ?</td> <td align="left">The name of the type of entry point, such as "Main class" or "Main file"). Required iff entry_point_required is <code>true</code>.</td> </tr> <tr> <td align="left">extensions</td> <td align="left">array of string</td> <td align="left">File extensions for the language.</td> </tr> <tr> <td align="left">compiler</td> <td align="left">Command object</td> <td align="left">Command used for compiling submissions.</td> </tr> <tr> <td align="left">runner</td> <td align="left">Command object</td> <td align="left">Command used for running submissions. Relevant e.g. for interpreted languages and languages running on a VM.</td> </tr> </tbody> </table> <p>Properties of Command objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">command</td> <td align="left">string</td> <td align="left">Command to run.</td> </tr> <tr> <td align="left">args</td> <td align="left">string ?</td> <td align="left">Argument list for command. <code>{files}</code> denotes where to include the file list. Defaults to empty string.</td> </tr> <tr> <td align="left">version</td> <td align="left">string ?</td> <td align="left">Expected output from running the version command. Defaults to empty string.</td> </tr> <tr> <td align="left">version_command</td> <td align="left">string ?</td> <td align="left">Command to run to get the version. Defaults to <code>&lt;command&gt; --version</code>.</td> </tr> </tbody> </table> <p>The compiler and runner objects are intended for informational purposes. It is not expected that systems will synchronize compiler and runner settings via this interface.</p> <h4 id="known-languages">Known languages</h4> <p>Below is a list of standardized identifiers for known languages with their name, extensions and entry point name (if any). When providing one of these languages, the corresponding identifier should be used. The language name and entry point name may be adapted e.g. for localization or to indicate a particular version of the language. In case multiple versions of a language are provided, those must have separate, unique identifiers. It is recommended to choose new identifiers with a suffix appended to an existing one. For example <code>cpp17</code> to specify the ISO 2017 version of C++.</p> <table> <thead> <tr> <th align="left">ID</th> <th align="left">Name</th> <th align="left">Extensions</th> <th align="left">Entry point name</th> </tr> </thead> <tbody> <tr> <td align="left">ada</td> <td align="left">Ada</td> <td align="left">adb, ads</td> <td align="left"></td> </tr> <tr> <td align="left">c</td> <td align="left">C</td> <td align="left">c</td> <td align="left"></td> </tr> <tr> <td align="left">cpp</td> <td align="left">C++</td> <td align="left">cc, cpp, cxx, c++, C</td> <td align="left"></td> </tr> <tr> <td align="left">csharp</td> <td align="left">C#</td> <td align="left">cs</td> <td align="left"></td> </tr> <tr> <td align="left">go</td> <td align="left">Go</td> <td align="left">go</td> <td align="left"></td> </tr> <tr> <td align="left">haskell</td> <td align="left">Haskell</td> <td align="left">hs</td> <td align="left"></td> </tr> <tr> <td align="left">java</td> <td align="left">Java</td> <td align="left">java</td> <td align="left">Main class</td> </tr> <tr> <td align="left">javascript</td> <td align="left">JavaScript</td> <td align="left">js</td> <td align="left">Main file</td> </tr> <tr> <td align="left">kotlin</td> <td align="left">Kotlin</td> <td align="left">kt</td> <td align="left">Main class</td> </tr> <tr> <td align="left">objectivec</td> <td align="left">Objective-C</td> <td align="left">m</td> <td align="left"></td> </tr> <tr> <td align="left">pascal</td> <td align="left">Pascal</td> <td align="left">pas</td> <td align="left"></td> </tr> <tr> <td align="left">php</td> <td align="left">PHP</td> <td align="left">php</td> <td align="left">Main file</td> </tr> <tr> <td align="left">prolog</td> <td align="left">Prolog</td> <td align="left">pl</td> <td align="left"></td> </tr> <tr> <td align="left">python2</td> <td align="left">Python 2</td> <td align="left">py</td> <td align="left">Main file</td> </tr> <tr> <td align="left">python3</td> <td align="left">Python 3</td> <td align="left">py</td> <td align="left">Main file</td> </tr> <tr> <td align="left">ruby</td> <td align="left">Ruby</td> <td align="left">rb</td> <td align="left"></td> </tr> <tr> <td align="left">rust</td> <td align="left">Rust</td> <td align="left">rs</td> <td align="left"></td> </tr> <tr> <td align="left">scala</td> <td align="left">Scala</td> <td align="left">scala</td> <td align="left"></td> </tr> </tbody> </table> <h4 id="examples-5">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/languages</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Java"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"entry_point_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"entry_point_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main class"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java"</span><span class="p">],</span><span class="w">
   </span><span class="nl">"compiler"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"javac"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-O {files}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"javac 11.0.4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"version_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"javac --version"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"runner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"openjdk version </span><span class="se">\"</span><span class="s2">11.0.4</span><span class="se">\"</span><span class="s2"> 2019-07-16"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpp"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GNU C++"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"compiler"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gcc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-O2 -Wall -o a.out -static {files}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gcc (Ubuntu 8.3.0-6ubuntu1) 8.3.0"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"entry_point_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nl">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"cc"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cpp"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cxx"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c++"</span><span class="p">,</span><span class="w"> </span><span class="s2">"C"</span><span class="p">]</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python3"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Python 3"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"entry_point_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"entry_point_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main file"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"py"</span><span class="p">]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="problems">Problems</h3> <p>The problems to be solved in the contest.</p> <p>The following endpoints are associated with problems:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/problems</code></td> <td align="left">application/json</td> <td align="left">JSON array of all problems with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/problems/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single problem with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of problem objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the problem, at the WFs the directory name of the problem package.</td> </tr> <tr> <td align="left">uuid</td> <td align="left">string ?</td> <td align="left">UUID of the problem, as defined in the problem package.</td> </tr> <tr> <td align="left">label</td> <td align="left">string</td> <td align="left">Label of the problem on the scoreboard, typically a single capitalized letter.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Name of the problem.</td> </tr> <tr> <td align="left">ordinal</td> <td align="left">integer</td> <td align="left">A unique number that determines the order the problems, e.g. on the scoreboard.</td> </tr> <tr> <td align="left">rgb</td> <td align="left">string ?</td> <td align="left">Hexadecimal RGB value of problem color as specified in <a href="https://en.wikipedia.org/wiki/Web_colors#Hex_triplet">HTML hexadecimal colors</a>, e.g. <code>#AC00FF</code> or <code>#fff</code>.</td> </tr> <tr> <td align="left">color</td> <td align="left">string ?</td> <td align="left">Human readable color description associated to the RGB value.</td> </tr> <tr> <td align="left">time_limit</td> <td align="left">number</td> <td align="left">Time limit in seconds per test data set (i.e. per single run). Should be a non-negative integer multiple of <code>0.001</code>. The reason for this is to not have rounding ambiguities while still using the natural unit of seconds.</td> </tr> <tr> <td align="left">test_data_count</td> <td align="left">integer</td> <td align="left">Number of test data sets.</td> </tr> <tr> <td align="left">max_score</td> <td align="left">number</td> <td align="left">Maximum expected score, although teams may score higher in some cases. Typically used to indicate scoreboard cell color in scoring contests. Required iff contest:scoreboard_type is <code>score</code>.</td> </tr> <tr> <td align="left">package</td> <td align="left">array of FILE ?</td> <td align="left"><a href="https://www.kattis.com/problem-package-format/">Problem package</a>. Expected mime type is application/zip. Only exactly one package is allowed. Not expected to actually contain href for package during the contest, but used for configuration and archiving.</td> </tr> <tr> <td align="left">statement</td> <td align="left">array of FILE ?</td> <td align="left">Problem statement. Expected mime type is application/pdf.</td> </tr> </tbody> </table> <h4 id="examples-6">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/problems</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"asteroids"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"A"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Asteroid Rangers"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"blue"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#00f"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">10</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"bottles"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"B"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Curvy Little Bottles"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"gray"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#808080"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mf">3.5</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">15</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/problems/asteroids</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"asteroids"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"A"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Asteroid Rangers"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"blue"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#00f"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="groups">Groups</h3> <p>Grouping of teams. At the World Finals these are the super regions; at other contests these may be the different sites, divisions, or types of contestants.</p> <p>Teams may belong to multiple groups. For instance, there may be a group for each site, a group for university teams, a group for corporate teams, and a group for ICPC-eligible teams. Teams could belong to two or three of these. When there are different kinds of groups for different purposes (e.g. sites vs divisions), each group or set of groups should have a different type property (e.g. <code>&quot;type&quot;:&quot;site&quot;</code> and <code>&quot;type&quot;:&quot;division&quot;</code>).</p> <p>Groups must exist for any combination of teams that must be ranked on a <a href="#group-scoreboard">group scoreboard</a>, which means groups may be created for combinations of other groups. For instance, if there is a requirement to show a scoreboard for teams in each of <code>D</code> divisions at every one of <code>S</code> sites, then in addition to the <code>D</code> + <code>S</code> groups there will also be <code>D</code>x<code>S</code> combined/product groups. It is recommended that these groups have a type like <code>&quot;type&quot;:&quot;&lt;group1&gt;-&lt;group2&gt;&quot;</code>, e.g. <code>&quot;type&quot;:&quot;site-division&quot;</code>.</p> <p>The following endpoints are associated with groups:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/groups</code></td> <td align="left">application/json</td> <td align="left">JSON array of all groups with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/groups/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single group with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Note that these endpoints must be provided if groups are used. If they are not provided no other endpoint may refer to groups (i.e. return any group_ids).</p> <p>Properties of group objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the group.</td> </tr> <tr> <td align="left">icpc_id</td> <td align="left">string ?</td> <td align="left">External identifier from ICPC CMS.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Name of the group.</td> </tr> <tr> <td align="left">type</td> <td align="left">string ?</td> <td align="left">Type of the group.</td> </tr> <tr> <td align="left">location</td> <td align="left">LOCATION ?</td> <td align="left">A center location of this group.</td> </tr> </tbody> </table> <h4 id="known-group-types">Known group types</h4> <p>The list below contains standardized identifiers for known group types. These identifiers should be used when the purpose of a group matches.</p> <table> <thead> <tr> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">site</td> <td align="left">A physical location where teams are competing, e.g. the "Hawaii site". Teams generally should not be in more than one group of this type.</td> </tr> </tbody> </table> <h4 id="examples-7">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/groups</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"asia-74324325532"</span><span class="p">,</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="s2">"7593"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Asia"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/groups</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"42425"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Division 2"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"division"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="organizations">Organizations</h3> <p>Teams can be associated with organizations which will have some associated information, e.g. a logo. Typically organizations will be universities.</p> <p>The following endpoints are associated with organizations:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/organizations</code></td> <td align="left">application/json</td> <td align="left">JSON array of all organizations with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/organizations/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single organization with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Note that the first two endpoints must be provided if organizations are used. If they are not provided no other endpoint may refer to organizations (i.e. return any organization_ids).</p> <p>Properties of organization objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the organization.</td> </tr> <tr> <td align="left">icpc_id</td> <td align="left">string ?</td> <td align="left">External identifier from ICPC CMS.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Short display name of the organization.</td> </tr> <tr> <td align="left">formal_name</td> <td align="left">string ?</td> <td align="left">Full organization name if too long for normal display purposes.</td> </tr> <tr> <td align="left">country</td> <td align="left">string ?</td> <td align="left"><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3">ISO 3166-1 alpha-3 code</a> of the organization's country.</td> </tr> <tr> <td align="left">country_flag</td> <td align="left">array of FILE ?</td> <td align="left">Flag of the country. A server is recommended to provide flags of size around 56x56 and 160x160. Only allowed mime types are image/*.</td> </tr> <tr> <td align="left">url</td> <td align="left">string ?</td> <td align="left">URL to organization's website.</td> </tr> <tr> <td align="left">twitter_hashtag</td> <td align="left">string ?</td> <td align="left">Organization Twitter hashtag.</td> </tr> <tr> <td align="left">twitter_account</td> <td align="left">string ?</td> <td align="left">Organization Twitter account.</td> </tr> <tr> <td align="left">location</td> <td align="left">LOCATION ?</td> <td align="left">Location where this organization is based.</td> </tr> <tr> <td align="left">logo</td> <td align="left">array of FILE ?</td> <td align="left">Logo of the organization. A server must provide logos of size 56x56 and 160x160 but may provide other sizes as well. Only allowed mime types are image/*.</td> </tr> </tbody> </table> <h4 id="examples-8">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/&lt;id&gt;/organizations</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"inst123"</span><span class="p">,</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="s2">"433"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Shanghai Jiao Tong U."</span><span class="p">,</span><span class="nl">"formal_name"</span><span class="p">:</span><span class="s2">"Shanghai Jiao Tong University"</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"inst105"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Carnegie Mellon University"</span><span class="p">,</span><span class="nl">"country"</span><span class="p">:</span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logo"</span><span class="p">:[{</span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"http://example.com/api/contests/wf14/organizations/inst105/logo/56px"</span><span class="p">,</span><span class="nl">"filename"</span><span class="p">:</span><span class="s2">"56px.png"</span><span class="p">,</span><span class="nl">"mime"</span><span class="p">:</span><span class="s2">"image/png"</span><span class="p">,</span><span class="nl">"width"</span><span class="p">:</span><span class="mi">56</span><span class="p">,</span><span class="nl">"height"</span><span class="p">:</span><span class="mi">56</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"http://example.com/api/contests/wf14/organizations/inst105/logo/160px"</span><span class="p">,</span><span class="nl">"filename"</span><span class="p">:</span><span class="s2">"160px.png"</span><span class="p">,</span><span class="nl">"mime"</span><span class="p">:</span><span class="s2">"image/png"</span><span class="p">,</span><span class="nl">"width"</span><span class="p">:</span><span class="mi">160</span><span class="p">,</span><span class="nl">"height"</span><span class="p">:</span><span class="mi">160</span><span class="p">}]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="teams">Teams</h3> <p>Teams competing in the contest.</p> <p>The following endpoints are associated with teams:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/teams</code></td> <td align="left">application/json</td> <td align="left">JSON array of all teams with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/teams/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single team with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of team objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the team. Usable as a label, at WFs normally the team seat number.</td> </tr> <tr> <td align="left">icpc_id</td> <td align="left">string ?</td> <td align="left">External identifier from ICPC CMS.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Name of the team.</td> </tr> <tr> <td align="left">label</td> <td align="left">string</td> <td align="left">Label of the team, at WFs normally the team seat number.</td> </tr> <tr> <td align="left">display_name</td> <td align="left">string ?</td> <td align="left">Display name of the team. If not set, a client should revert to using the name instead.</td> </tr> <tr> <td align="left">organization_id</td> <td align="left">ID ?</td> <td align="left">Identifier of the <a href="#organizations"> organization</a> (e.g. university or other entity) that this team is affiliated to.</td> </tr> <tr> <td align="left">group_ids</td> <td align="left">array of ID ?</td> <td align="left">Identifiers of the <a href="#groups"> group(s)</a> this team is part of (at ICPC WFs these are the super-regions). No meaning must be implied or inferred from the order of IDs. The array may be empty. Required iff groups endpoint is available.</td> </tr> <tr> <td align="left">hidden</td> <td align="left">boolean ?</td> <td align="left">If the team is to be excluded from the <a href="#scoreboard">scoreboard</a>. Defaults to <code>false</code>.</td> </tr> <tr> <td align="left">location</td> <td align="left">team location object ?</td> <td align="left">Position of team on the contest floor. See below for the specification of this object.</td> </tr> <tr> <td align="left">photo</td> <td align="left">array of FILE ?</td> <td align="left">Registration photo of the team. Only allowed mime types are image/*.</td> </tr> <tr> <td align="left">video</td> <td align="left">array of FILE ?</td> <td align="left">Registration video of the team. Only allowed mime types are video/*.</td> </tr> <tr> <td align="left">backup</td> <td align="left">array of FILE ?</td> <td align="left">Latest file backup of the team machine. Only allowed mime type is application/zip.</td> </tr> <tr> <td align="left">key_log</td> <td align="left">array of FILE ?</td> <td align="left">Latest key log file from the team machine. Only allowed mime type is text/plain.</td> </tr> <tr> <td align="left">tool_data</td> <td align="left">array of FILE ?</td> <td align="left">Latest tool data usage file from the team machine. Only allowed mime type is text/plain.</td> </tr> <tr> <td align="left">desktop</td> <td align="left">array of FILE ?</td> <td align="left">Streaming video of the team desktop. Only allowed mime types are video/*.</td> </tr> <tr> <td align="left">webcam</td> <td align="left">array of FILE ?</td> <td align="left">Streaming video of the team webcam. Only allowed mime types are video/*.</td> </tr> <tr> <td align="left">audio</td> <td align="left">array of FILE ?</td> <td align="left">Streaming team audio.</td> </tr> </tbody> </table> <p>Properties of team location objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">x</td> <td align="left">number</td> <td align="left">Team's x position in meters.</td> </tr> <tr> <td align="left">y</td> <td align="left">number</td> <td align="left">Team's y position in meters.</td> </tr> <tr> <td align="left">rotation</td> <td align="left">number</td> <td align="left">Team's rotation in degrees.</td> </tr> </tbody> </table> <h4 id="examples-9">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/teams</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"team11"</span><span class="p">,</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="s2">"201433"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Shanghai Tigers"</span><span class="p">,</span><span class="nl">"organization_id"</span><span class="p">:</span><span class="s2">"inst123"</span><span class="p">,</span><span class="nl">"group_ids"</span><span class="p">:[</span><span class="s2">"asia-74324325532"</span><span class="p">]},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"team123"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"CMU1"</span><span class="p">,</span><span class="nl">"organization_id"</span><span class="p">:</span><span class="s2">"inst105"</span><span class="p">,</span><span class="nl">"group_ids"</span><span class="p">:[</span><span class="s2">"8"</span><span class="p">,</span><span class="s2">"11"</span><span class="p">]}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="persons">Persons</h3> <p>Persons involved in the contest.</p> <p>The following endpoints are associated with persons:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/persons</code></td> <td align="left">application/json</td> <td align="left">JSON array of all persons with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/persons/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single person with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of person objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the person.</td> </tr> <tr> <td align="left">icpc_id</td> <td align="left">string ?</td> <td align="left">External identifier from ICPC CMS.</td> </tr> <tr> <td align="left">team_ids</td> <td align="left">array of ID ?</td> <td align="left"><a href="#teams">Team</a> of this person. Required to be non-empty iff role is <code>contestant</code> or <code>coach</code>.</td> </tr> <tr> <td align="left">name</td> <td align="left">string</td> <td align="left">Name of the person.</td> </tr> <tr> <td align="left">title</td> <td align="left">string ?</td> <td align="left">Title of the person, e.g. "Technical director".</td> </tr> <tr> <td align="left">email</td> <td align="left">string ?</td> <td align="left">Email of the person.</td> </tr> <tr> <td align="left">sex</td> <td align="left">string ?</td> <td align="left">Either <code>male</code> or <code>female</code>, or possibly <code>null</code>.</td> </tr> <tr> <td align="left">role</td> <td align="left">string</td> <td align="left">One of <code>contestant</code>, <code>coach</code>, <code>staff</code>, or <code>other</code>.</td> </tr> <tr> <td align="left">photo</td> <td align="left">array of FILE ?</td> <td align="left">Registration photo of the person. Only allowed mime types are image/*.</td> </tr> </tbody> </table> <h4 id="examples-10">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/persons</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"john-smith"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[</span><span class="s2">"43"</span><span class="p">],</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="s2">"32442"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"John Smith"</span><span class="p">,</span><span class="nl">"email"</span><span class="p">:</span><span class="s2">"john.smith@kmail.com"</span><span class="p">,</span><span class="nl">"sex"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="nl">"role"</span><span class="p">:</span><span class="s2">"contestant"</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"osten-umlautsen"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[</span><span class="s2">"43"</span><span class="p">,</span><span class="s2">"44"</span><span class="p">],</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Östen Ümlautsen"</span><span class="p">,</span><span class="nl">"sex"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"role"</span><span class="p">:</span><span class="s2">"coach"</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"bill"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Bill Farrell"</span><span class="p">,</span><span class="nl">"sex"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"Executive Director"</span><span class="p">,</span><span class="nl">"role"</span><span class="p">:</span><span class="s2">"staff"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="accounts">Accounts</h3> <p>The accounts used for accessing the contest, as well as information about the account currently accessing the API.</p> <p>The following endpoints are associated with accounts:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/accounts</code></td> <td align="left">application/json</td> <td align="left">JSON array of all accounts with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/accounts/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single account with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/account</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single account of the client making the request, with properties as specified by <code>/access</code> for <code>/accounts</code>.</td> </tr> </tbody> </table> <p>Properties of account objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the account.</td> </tr> <tr> <td align="left">username</td> <td align="left">string</td> <td align="left">The account username.</td> </tr> <tr> <td align="left">password</td> <td align="left">string ?</td> <td align="left">The account password.</td> </tr> <tr> <td align="left">name</td> <td align="left">string ?</td> <td align="left">The name of the account.</td> </tr> <tr> <td align="left">type</td> <td align="left">string</td> <td align="left">The type of account, e.g. <code>team</code>, <code>judge</code>, <code>admin</code>, <code>analyst</code>, <code>staff</code>.</td> </tr> <tr> <td align="left">ip</td> <td align="left">string ?</td> <td align="left">IP address associated with this account, used for auto-login.</td> </tr> <tr> <td align="left">team_id</td> <td align="left">ID ?</td> <td align="left">The team that this account is for. Required iff type is <code>team</code>.</td> </tr> <tr> <td align="left">person_id</td> <td align="left">ID ?</td> <td align="left">The person that this account is for, if the account is only for one person.</td> </tr> </tbody> </table> <p>Accounts exist in the API primarily for configuration from a contest package, or an administrator comparing one CCS to another. It is expected that non-admin clients never see passwords, and typically do not see accounts other than their own.</p> <p>The account endpoint exists so that the clients can tell which account (and hence which person or team) they are logged in as. It is not expected to exist in a contest package, and will fail with a 404 error code if the client is not authenticated.</p> <h4 id="examples-11">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/accounts</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"stephan"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"stephan"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Stephan's home account"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"judge"</span><span class="p">,</span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">"10.0.0.1"</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"team45"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"team45"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">,</span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">"10.1.1.45"</span><span class="p">,</span><span class="nl">"team_id"</span><span class="p">:</span><span class="s2">"45"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/accounts/nicky</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"nicky"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"nicky"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"admin"</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code>GET https://example.com/api/contests/wf14/account</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"nicky"</span><span class="p">,</span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"nicky"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"admin"</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="contest-state">Contest state</h3> <p>Current state of the contest, specifying whether it's running, the scoreboard is frozen or results are final.</p> <p>The following endpoints are associated with state:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/state</code></td> <td align="left">application/json</td> <td align="left">JSON object representing the current contest state with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of state objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">started</td> <td align="left">TIME ?</td> <td align="left">Time when the contest actually started, or <code>null</code> if the contest has not started yet. When set, this time must be equal to the <a href="#contests">contest</a> <code>start_time</code>.</td> </tr> <tr> <td align="left">frozen</td> <td align="left">TIME ?</td> <td align="left">Time when the scoreboard was frozen, or <code>null</code> if the scoreboard has not been frozen. Required iff <code>scoreboard_freeze_duration</code> is present in the <a href="#contests">contest</a> endpoint.</td> </tr> <tr> <td align="left">ended</td> <td align="left">TIME ?</td> <td align="left">Time when the contest ended, or <code>null</code> if the contest has not ended. Must not be set if started is <code>null</code>.</td> </tr> <tr> <td align="left">thawed</td> <td align="left">TIME ?</td> <td align="left">Time when the scoreboard was thawed (that is, unfrozen again), or <code>null</code> if the scoreboard has not been thawed. Required iff <code>scoreboard_freeze_duration</code> is present in the <a href="#contests">contest</a> endpoint. Must not be set if frozen is <code>null</code>.</td> </tr> <tr> <td align="left">finalized</td> <td align="left">TIME ?</td> <td align="left">Time when the results were finalized, or <code>null</code> if results have not been finalized. Must not be set if ended is <code>null</code>.</td> </tr> <tr> <td align="left">end_of_updates</td> <td align="left">TIME ?</td> <td align="left">Time after last update to the contest occurred, or <code>null</code> if more updates are still to come. Setting this to non-<code>null</code> must be the very last change in the contest.</td> </tr> </tbody> </table> <p>These state changes must occur in the order listed in the table above, as far as they do occur, except that <code>thawed</code> and <code>finalized</code> may occur in any order. For example, the contest may never be frozen and hence not thawed either, or, it may be finalized before it is thawed. That, is the following sequence of inequalities must hold:</p><pre><code>started &lt; frozen &lt; ended &lt; thawed    &lt; end_of_updates,
                   ended &lt; finalized &lt; end_of_updates.
</code></pre>  <p>A contest that has ended, has been thawed (or was never frozen) and is finalized must not change. Thus, <code>end_of_updates</code> can be set once both <code>finalized</code> is set and <code>thawed</code> is set if the contest was frozen.</p> <h4 id="examples-12">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/state</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"started"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T10:00:00+01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T14:00:00+01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"thawed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"finalized"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"end_of_updates"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="submissions">Submissions</h3> <p>Submissions, a.k.a. attempts to solve problems in the contest.</p> <p>The following endpoints are associated with submissions:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/submissions</code></td> <td align="left">application/json</td> <td align="left">JSON array of all submissions with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/submissions/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single submission with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of submission objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the submission. Usable as a label, typically a low incrementing number.</td> </tr> <tr> <td align="left">language_id</td> <td align="left">ID</td> <td align="left">Identifier of the <a href="#languages">language</a> submitted for.</td> </tr> <tr> <td align="left">problem_id</td> <td align="left">ID</td> <td align="left">Identifier of the <a href="#problems">problem</a> submitted for.</td> </tr> <tr> <td align="left">team_id</td> <td align="left">ID</td> <td align="left">Identifier of the <a href="#teams">team</a> that made the submission.</td> </tr> <tr> <td align="left">time</td> <td align="left">TIME</td> <td align="left">Timestamp of when the submission was made.</td> </tr> <tr> <td align="left">contest_time</td> <td align="left">RELTIME</td> <td align="left">Contest relative time when the submission was made.</td> </tr> <tr> <td align="left">entry_point</td> <td align="left">string ?</td> <td align="left">Code entry point for specific languages.</td> </tr> <tr> <td align="left">files</td> <td align="left">array of FILE</td> <td align="left">Submission files, contained at the root of the archive. Only allowed mime type is application/zip. Only exactly one archive is allowed.</td> </tr> <tr> <td align="left">reaction</td> <td align="left">array of FILE ?</td> <td align="left">Reaction video from team's webcam. Only allowed mime types are video/*.</td> </tr> </tbody> </table> <p>The <code>entry_point</code> property must be included for submissions in languages which do not have a single, unambiguous entry point to run the code. In general the entry point is the string that needs to be specified to point to the code to be executed. Specifically, for Python it is the file name that should be run, and for Java and Kotlin it is the fully qualified class name (that is, with any package name included, e.g. <code>com.example.myclass</code> for a class in the package <code>com.example</code> in Java). For C and C++ no entry point is required and it must therefore be <code>null</code>.</p> <p>The <code>files</code> property provides the file(s) of a given submission as a zip archive. These must be stored directly from the root of the zip file, i.e. there must not be extra directories (or files) added unless these are explicitly part of the submission content.</p> <h4 id="modifying-submissions">Modifying submissions</h4> <p>To add a submission, clients can use the <code>POST</code> method on the submissions endpoint or the <code>PUT</code> method directly on an object url. One of the following <a href="#capabilities">capabilities</a> is required to add submissions, with descriptions below:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">team_submit</td> <td align="left">POST a submission as a team</td> </tr> <tr> <td align="left">proxy_submit</td> <td align="left">POST a submission as a proxy (able to submit on behalf of team(s))</td> </tr> <tr> <td align="left">admin_submit</td> <td align="left">POST or PUT a submission as an admin</td> </tr> </tbody> </table> <p>All requests must include a valid JSON object with the same properties as the submissions endpoint returns from a <code>GET</code> request with the following exceptions:</p> <ul> <li>The property <code>team_id</code>, <code>time</code>, and <code>contest_time</code> are optional depending on the use case (see below). The server may require properties to either be absent or present, and should respond with a 4xx error code in such cases.</li> <li>Since <code>files</code> only supports <code>application/zip</code>, providing the <code>mime</code> property is optional.</li> <li><code>reaction</code> may be provided but a CCS does not have to honour it.</li> <li>The <code>team_submit</code> capability only has access to <code>POST</code>. <code>time</code> must not be provided and will always be set to the current time as determined by the server. <code>team_id</code> may be provided but then must match the ID of the team associated with the request.</li> <li>The <code>proxy_submit</code> capability only has access to <code>POST</code>. <code>time</code> must not be provided and will always be set to the current time as determined by the server. <code>team_id</code> must be provided.</li> <li>For more advanced scenarios the <code>admin_submit</code> capability may use a <code>POST</code> (must not include an <code>id</code>) or <code>PUT</code> (client is required to include a unique <code>id</code>). In both cases <code>time</code> is required. For example in a setup with a central CCS with satellite sites where teams submit to a proxy CCS that forwards to the central CCS, this might be useful to make sure that the proxy CCS can accept submissions even when the connection to the central CCS is down. The proxy can then forward these submissions later, when the connection is restored again.</li> </ul> <p>The request must fail with a 4xx error code if any of the following happens:</p> <ul> <li>A required property is missing.</li> <li>A property that must not be provided is provided.</li> <li>The supplied problem, team or language can not be found.</li> <li>An entrypoint is required for the given language, but not supplied.</li> <li>The mime property in <code>files</code> is set but invalid.</li> <li>Something is wrong with the submission file. For example it contains too many files, it is too big, etc.</li> <li>The provided <code>id</code> already exists or is otherwise not acceptable.</li> </ul> <p>The response will contain a <code>Location</code> header pointing to the newly created submission and the response body will contain the initial state of the submission.</p> <p>Performing a <code>POST</code> or <code>PUT</code> is not supported when these capabilities are not available.</p> <h4 id="use-cases-for-posting-and-putting-submissions">Use cases for POSTing and PUTting submissions</h4> <p>The POST and PUT submissions endpoint can be used for a variety of reasons, and depending on the use case, the server might require different properties to be present. A number of common scenarios are described here for informational purposes only.</p> <h5 id="team-client-submitting-to-ccs">Team client submitting to CCS</h5> <p>The most obvious and probably most common case is where a team directly submits to the CCS, e.g. with a command-line submit client.</p> <p>In this case the client has the <code>team_submit</code> capability and a specific <code>team_id</code> already associated with it. POST must be used and the properties <code>id</code>, <code>team_id</code>, <code>time</code>, and <code>contest_time</code> should not be specified; the server will determine these properties and should reject submissions specifying them, or may ignore a <code>team_id</code> that is identical to the one that the client has authenticated as.</p> <h5 id="a-proxy-server-forwarding-to-a-ccs">A proxy server forwarding to a CCS</h5> <p>A proxy server may receive submissions from team clients (like above) and forward these to a CCS. This might be useful, for example, in a multi-site contest setup, where each site runs a proxy that would still be reachable if connectivity with the central CCS is lost, or where the proxy forwards the submission to multiple CCS's that run in parallel (like the shadowing setup at the ICPC World Finals).</p> <p>In such a scenario, the proxy server would timestamp the submissions and authenticate the submitting team, and then forward the submission to the upstream CCS using the <code>proxy_submit</code> capability. The proxy would provide <code>team_id</code> and <code>time</code> properties and the CCS should then accept and use these.</p> <p>To allow the proxy to return a submission <code>id</code> during connectivity loss, the <code>admin_submit</code> capability would be required and each site could be assigned a unique prefix such that the proxy server itself can generate unique <code>id</code>s and then submit a PUT to the central CCS with the <code>id</code> property included. The central CCS should then accept and use that <code>id</code> property.</p> <h5 id="further-potential-extensions">Further potential extensions</h5> <p>To allow for any further use cases, the specification is deliberately flexible in how the server can handle optional properties.</p> <ul> <li>The <code>contest_time</code> property should normally not be specified when <code>time</code> is already specified as it can be calculated from <code>time</code> and the wallclock time is unambiguously defined without reference to contest start time. However, in a case where one would want to support a multi-site contest where the sites run out of sync, the use of <code>contest_time</code> might be considered.</li> </ul> <h4 id="examples-13">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/submissions</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"187"</span><span class="p">,</span><span class="nl">"team_id"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"language_id"</span><span class="p">:</span><span class="s2">"1-java"</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:22:05.034+01"</span><span class="p">,</span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:22:05.034"</span><span class="p">,</span><span class="nl">"entry_point"</span><span class="p">:</span><span class="s2">"Main"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"files"</span><span class="p">:[{</span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"contests/wf14/submissions/187/files"</span><span class="p">,</span><span class="nl">"filename"</span><span class="p">:</span><span class="s2">"files.zip"</span><span class="p">,</span><span class="nl">"mime"</span><span class="p">:</span><span class="s2">"application/zip"</span><span class="p">}]}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Note that the relative link for <code>files</code> points to the location <a href="https://example.com/api/contests/wf14/submissions/187/files">https://example.com/api/contests/wf14/submissions/187/files</a> since the base URL for the API is <a href="https://example.com/api">https://example.com/api</a>.</p> <p>Request:</p> <p><code> POST https://example.com/api/contests/wf14/submissions</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"language_id"</span><span class="p">:</span><span class="s2">"1-java"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"team_id"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:22:05.034+01"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"entry_point"</span><span class="p">:</span><span class="s2">"Main"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"files"</span><span class="p">:[{</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;base64 string&gt;"</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"187"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"language_id"</span><span class="p">:</span><span class="s2">"1-java"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"team_id"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:22:05.034+01"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:22:05.034"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"entry_point"</span><span class="p">:</span><span class="s2">"Main"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"files"</span><span class="p">:[{</span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"contests/wf14/submissions/187/files"</span><span class="p">,</span><span class="nl">"filename"</span><span class="p">:</span><span class="s2">"files.zip"</span><span class="p">,</span><span class="nl">"mime"</span><span class="p">:</span><span class="s2">"application/zip"</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="judgements">Judgements</h3> <p>Judgements for submissions in the contest.</p> <p>The following endpoints are associated with judgements:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/judgements</code></td> <td align="left">application/json</td> <td align="left">JSON array of all judgements with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/judgements/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single judgement with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of judgement objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the judgement.</td> </tr> <tr> <td align="left">submission_id</td> <td align="left">ID</td> <td align="left">Identifier of the <a href="#submissions">submission</a> judged.</td> </tr> <tr> <td align="left">judgement_type_id</td> <td align="left">ID ?</td> <td align="left">The <a href="#judgement-types">verdict</a> of this judgement. Required iff judgement has completed.</td> </tr> <tr> <td align="left">score</td> <td align="left">number</td> <td align="left">Score for this judgement. Required iff contest:scoreboard_type is <code>score</code>.</td> </tr> <tr> <td align="left">start_time</td> <td align="left">TIME</td> <td align="left">Absolute time when judgement started.</td> </tr> <tr> <td align="left">start_contest_time</td> <td align="left">RELTIME</td> <td align="left">Contest relative time when judgement started.</td> </tr> <tr> <td align="left">end_time</td> <td align="left">TIME ?</td> <td align="left">Absolute time when judgement completed. Required iff judgement_type_id is present.</td> </tr> <tr> <td align="left">end_contest_time</td> <td align="left">RELTIME ?</td> <td align="left">Contest relative time when judgement completed. Required iff judgement_type_id is present.</td> </tr> <tr> <td align="left">max_run_time</td> <td align="left">number ?</td> <td align="left">Maximum run time in seconds for any test case. Should be a non-negative integer multiple of <code>0.001</code>. The reason for this is to not have rounding ambiguities while still using the natural unit of seconds.</td> </tr> </tbody> </table> <p>When a judgement is started, each of <code>judgement_type_id</code>, <code>end_time</code> and <code>end_contest_time</code> will be <code>null</code> (or missing). These are set when the judgement is completed.</p> <h4 id="examples-14">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/judgements</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"189549"</span><span class="p">,</span><span class="nl">"submission_id"</span><span class="p">:</span><span class="s2">"wf2017-32163123xz3132yy"</span><span class="p">,</span><span class="nl">"judgement_type_id"</span><span class="p">:</span><span class="s2">"CE"</span><span class="p">,</span><span class="nl">"start_time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:22:48.427+01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"start_contest_time"</span><span class="p">:</span><span class="s2">"1:22:48.427"</span><span class="p">,</span><span class="nl">"end_time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:23:32.481+01"</span><span class="p">,</span><span class="nl">"end_contest_time"</span><span class="p">:</span><span class="s2">"1:23:32.481"</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"189550"</span><span class="p">,</span><span class="nl">"submission_id"</span><span class="p">:</span><span class="s2">"wf2017-32163123xz3133ub"</span><span class="p">,</span><span class="nl">"judgement_type_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"start_time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:24:03.921+01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"start_contest_time"</span><span class="p">:</span><span class="s2">"1:24:03.921"</span><span class="p">,</span><span class="nl">"end_time"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"end_contest_time"</span><span class="p">:</span><span class="kc">null</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="runs">Runs</h3> <p>Runs are judgements of individual test cases of a submission.</p> <p>The following endpoints are associated with runs:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/runs</code></td> <td align="left">application/json</td> <td align="left">JSON array of all runs with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/runs/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single run with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of run objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the run.</td> </tr> <tr> <td align="left">judgement_id</td> <td align="left">ID</td> <td align="left">Identifier of the <a href="#judgements">judgement</a> this is part of.</td> </tr> <tr> <td align="left">ordinal</td> <td align="left">number</td> <td align="left">Ordering of runs in the judgement. Must be different for every run in a judgement. Runs for the same test case must have the same ordinal. Must be between 1 and <code>problem:test_data_count</code>.</td> </tr> <tr> <td align="left">judgement_type_id</td> <td align="left">ID</td> <td align="left">The <a href="#judgement-types">verdict</a> of this run (i.e. a judgement type).</td> </tr> <tr> <td align="left">time</td> <td align="left">TIME</td> <td align="left">Absolute time when run completed.</td> </tr> <tr> <td align="left">contest_time</td> <td align="left">RELTIME</td> <td align="left">Contest relative time when run completed.</td> </tr> <tr> <td align="left">run_time</td> <td align="left">number</td> <td align="left">Run time in seconds. Should be a non-negative integer multiple of <code>0.001</code>. The reason for this is to not have rounding ambiguities while still using the natural unit of seconds.</td> </tr> </tbody> </table> <h4 id="examples-15">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/runs</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"1312"</span><span class="p">,</span><span class="nl">"judgement_id"</span><span class="p">:</span><span class="s2">"189549"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span><span class="nl">"judgement_type_id"</span><span class="p">:</span><span class="s2">"TLE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:22:42.420+01"</span><span class="p">,</span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:22:42.420"</span><span class="p">,</span><span class="nl">"run_time"</span><span class="p">:</span><span class="mf">0.123</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="clarifications">Clarifications</h3> <p>Clarification message sent between teams and judges, a.k.a. clarification requests (questions from teams) and clarifications (answers from judges).</p> <p>The following endpoints are associated with clarification messages:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/clarifications</code></td> <td align="left">application/json</td> <td align="left">JSON array of all clarifications with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/clarifications/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single clarification with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of clarification message objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the clarification.</td> </tr> <tr> <td align="left">from_team_id</td> <td align="left">ID ?</td> <td align="left">Identifier of <a href="#teams">team</a> sending this clarification request, <code>null</code> iff a clarification sent by jury.</td> </tr> <tr> <td align="left">to_team_id</td> <td align="left">ID ?</td> <td align="left">Identifier of the <a href="#teams">team</a> receiving this reply, <code>null</code> iff a reply to all teams or a request sent by a team.</td> </tr> <tr> <td align="left">reply_to_id</td> <td align="left">ID ?</td> <td align="left">Identifier of clarification this is in response to, otherwise <code>null</code>.</td> </tr> <tr> <td align="left">problem_id</td> <td align="left">ID ?</td> <td align="left">Identifier of associated <a href="#problems">problem</a>, <code>null</code> iff not associated to a problem.</td> </tr> <tr> <td align="left">text</td> <td align="left">string</td> <td align="left">Question or reply text.</td> </tr> <tr> <td align="left">time</td> <td align="left">TIME</td> <td align="left">Time of the question/reply.</td> </tr> <tr> <td align="left">contest_time</td> <td align="left">RELTIME</td> <td align="left">Contest time of the question/reply.</td> </tr> </tbody> </table> <p>Note that at least one of <code>from_team_id</code> and <code>to_team_id</code> has to be <code>null</code>. That is, teams cannot send messages to other teams.</p> <h4 id="modifying-clarifications">Modifying clarifications</h4> <p>To add a clarification, clients can use the <code>POST</code> method on the clarifications endpoint or the <code>PUT</code> method directly on an object url. One of the following <a href="#capabilities">capabilities</a> is required to add clarifications, with descriptions below:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">team_clar</td> <td align="left">POST a clarification as a team</td> </tr> <tr> <td align="left">proxy_clar</td> <td align="left">POST a clarification as a proxy (able to submit on behalf of team(s))</td> </tr> <tr> <td align="left">admin_clar</td> <td align="left">POST or PUT a clarification as an admin</td> </tr> </tbody> </table> <p>All requests must include a valid JSON object with the same properties as the clarifications endpoint returns from a <code>GET</code> request with the following exceptions:</p> <ul> <li>When a property value would be null it is optional - you do not need to include it. e.g. if a clarification is not related to a problem you can choose to include or exclude the <code>problem_id</code>.</li> <li>The <code>team_clar</code> capability only has access to <code>POST</code>. <code>id</code>, <code>to_team_id</code>, <code>time</code>, and <code>contest_time</code> must not be provided. <code>from_team_id</code> may be provided but then must match the ID of the team associated with the request. The server will determine an <code>id</code> and the current <code>time</code> and <code>contest_time</code>.</li> <li>The <code>proxy_clar</code> capability only has access to <code>POST</code>. <code>id</code>, <code>to_team_id</code>, <code>time</code>, and <code>contest_time</code> must not be provided. <code>from_team_id</code> must be provided. The server will determine an <code>id</code> and the current <code>time</code> and <code>contest_time</code>.</li> <li>The <code>admin_clar</code> capability may use a <code>POST</code> (must not include an <code>id</code>) or <code>PUT</code> (client is required to include a unique <code>id</code>). In both cases <code>time</code> is required.</li> </ul> <p>The request must fail with a 4xx error code if any of the following happens:</p> <ul> <li>A required property is missing.</li> <li>A property that must not be provided is provided.</li> <li>The supplied problem, from_team, to_team, or reply_to cannot be found or are not visible to the client that's submitting.</li> <li>The provided <code>id</code> already exists or is otherwise not acceptable.</li> </ul> <p>The response will contain a <code>Location</code> header pointing to the newly created clarification and the response body will contain the initial state of the clarification.</p> <p>Performing a <code>POST</code> or <code>PUT</code> is not supported when these capabilities are not available.</p> <h4 id="examples-16">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/clarifications</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"wf2017-1"</span><span class="p">,</span><span class="nl">"from_team_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"to_team_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"reply_to_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"Do not touch anything before the contest starts!"</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2014-06-25T11:59:27.543+01"</span><span class="p">,</span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"-0:15:32.457"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/clarifications</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="nl">"from_team_id"</span><span class="p">:</span><span class="s2">"34"</span><span class="p">,</span><span class="nl">"to_team_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"reply_to_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"May I ask a question?"</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2017-06-25T11:59:27.543+01"</span><span class="p">,</span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:59:27.543"</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="nl">"from_team_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"to_team_id"</span><span class="p">:</span><span class="s2">"34"</span><span class="p">,</span><span class="nl">"reply_to_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"Yes you may!"</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2017-06-25T11:59:47.543+01"</span><span class="p">,</span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:59:47.543"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/clarifications</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="nl">"from_team_id"</span><span class="p">:</span><span class="s2">"34"</span><span class="p">,</span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"May I ask a question?"</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2017-06-25T11:59:27.543+01"</span><span class="p">,</span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:59:27.543"</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="nl">"to_team_id"</span><span class="p">:</span><span class="s2">"34"</span><span class="p">,</span><span class="nl">"reply_to_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"Yes you may!"</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2017-06-25T11:59:47.543+01"</span><span class="p">,</span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:59:47.543"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> POST https://example.com/api/contests/wf14/clarifications</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"from_team_id"</span><span class="p">:</span><span class="s2">"34"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"Can I assume the asteroids are round?"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"clar-43"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"from_team_id"</span><span class="p">:</span><span class="s2">"34"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"Can I assume the asteroids are round?"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2017-06-25T11:59:47.543+01"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"1:59:47.543"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="awards">Awards</h3> <p>Awards such as medals, first to solve, etc.</p> <p>The following endpoints are associated with awards:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/awards</code></td> <td align="left">application/json</td> <td align="left">JSON array of all awards with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/awards/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single award with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of award objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the award.</td> </tr> <tr> <td align="left">citation</td> <td align="left">string</td> <td align="left">Award citation, e.g. "Gold medal winner".</td> </tr> <tr> <td align="left">team_ids</td> <td align="left">array of ID ?</td> <td align="left">JSON array of <a href="#teams">team</a> ids receiving this award. No meaning must be implied or inferred from the order of IDs. If the value is null this means that the award is not currently being updated. If the value is the empty array this means that the award <strong>is</strong> being updated, but no team has been awarded the award at this time.</td> </tr> </tbody> </table> <h4 id="semantics">Semantics</h4> <ul> <li>Awards are not final until the contest is.</li> <li>An award may be created at any time, although it is recommended that a system creates the awards it intends to award before the contest starts.</li> <li>If an award has a non-null <code>team_ids</code>, then it must be kept up to date during the contest. E.g. if "winner" will not be updated with the current leader during the contest, it must be null until the award <strong>is</strong> updated.</li> <li>If an award is present during the contest this means that if the contest would end immediately and then become final, that award would be final. E.g. the "winner" during the contest should be the current leader. This is of course subject to what data the client can see; the public client's winner may not change during the scoreboard freeze but an admin could see the true current winner.</li> </ul> <h4 id="known-awards">Known awards</h4> <p>For some common award cases the following IDs should be used.</p> <table> <thead> <tr> <th align="left">ID</th> <th align="left">Meaning during contest</th> <th align="left">Meaning when contest is final</th> <th align="left">Comment</th> </tr> </thead> <tbody> <tr> <td align="left">winner</td> <td align="left">Current leader(s). Empty if no team has scored.</td> <td align="left">Winner(s) of the contest.</td> <td align="left"></td> </tr> <tr> <td align="left">gold-medal</td> <td align="left">Teams currently placed to receive a gold medal. Empty if no team has scored.</td> <td align="left">Teams being awarded gold medals.</td> <td align="left"></td> </tr> <tr> <td align="left">silver-medal</td> <td align="left">Teams currently placed to receive a silver medal. Empty if no team has scored.</td> <td align="left">Teams being awarded silver medals.</td> <td align="left"></td> </tr> <tr> <td align="left">bronze-medal</td> <td align="left">Teams currently placed to receive a bronze medal, assuming no extra bronze are awarded. Empty if no team has scored.</td> <td align="left">Teams being awarded bronze medals.</td> <td align="left"></td> </tr> <tr> <td align="left">rank-&lt;rank&gt;</td> <td align="left">Teams currently placed to receive rank &lt;rank&gt;. Empty if no team has scored.</td> <td align="left">Teams being awarded rank &lt;rank&gt;.</td> <td align="left">Only useful in contests where the final ranking awarded is different from the default ranking of the scoreboard. E.g. at the WF teams <em>not</em> getting medals are only ranked based on number of problems solved, and not total penalty time accrued nor time of last score improvement, and teams solving strictly fewer problems than the median team are not ranked at all.</td> </tr> <tr> <td align="left">honorable-mention</td> <td align="left">Teams currently placed to receive an honorable mention.</td> <td align="left">Teams being awarded an honorable mention.</td> <td align="left"></td> </tr> <tr> <td align="left">first-to-solve-&lt;id&gt;</td> <td align="left">The team(s), if any, that was first to solve problem &lt;id&gt;. This implies that no unjudged submission made earlier remains.</td> <td align="left">Same.</td> <td align="left">Must never change once set, except if there are rejudgements.</td> </tr> <tr> <td align="left">group-winner-&lt;id&gt;</td> <td align="left">Current leader(s) in group &lt;id&gt;. Empty if no team has scored.</td> <td align="left">Winner(s) of group &lt;id&gt;.</td> <td align="left"></td> </tr> <tr> <td align="left">organization-winner-&lt;id&gt;</td> <td align="left">Current leader(s) of organization &lt;id&gt;. Empty if no team has scored.</td> <td align="left">Winner(s) of organization &lt;id&gt;.</td> <td align="left">Not useful in contest with only one team per organization (e.g. the WF).</td> </tr> </tbody> </table> <h4 id="post-put-patch-and-delete-awards">POST, PUT, PATCH, and DELETE awards</h4> <p>Clients with the <code>admin</code> role may make changes to awards using the normal <a href="#http-methods">HTTP methods</a> as specified above. Specifically, they can POST new awards, create or replace one with a known id via PUT, PATCH one or more properties, or DELETE an existing award.</p> <p>The server may be configured to manage (assign or update) some award ids, and may block clients from modifying them. However, if a client is able to modify an award it must assume that it is responsible for managing that award id unless and until it sees an indication that something else is now managing that award - either a change that it did not request, or a future modification fails.</p> <p>For example, the server may be configured to assign the <code>winner</code> award and not allow any client to modify it. The same server may assign <code>*-medal</code> awards by default, but allow clients to modify them. Once a client modifies any of the <code>*-medal</code> awards, it is responsible for updating it if anything changes. Likewise, the client could add any arbitrary awards like <code>first-submission-for-country-*</code> and would be responsible for managing these.</p> <p>The server should create all the awards it is configured to manage before the start of the contest, so that clients can know which awards are already handled.</p> <p>The request must fail with a 4xx error code if any of the following happens:</p> <ul> <li>A POST that includes an id.</li> <li>A PATCH, or DELETE on an award that doesn't exist.</li> <li>A POST or PUT that is missing one of the required properties (<code>citation</code> and <code>team_ids</code>).</li> <li>A PATCH that contains an invalid property (e.g. null <code>citation</code> or <code>team_ids</code>).</li> <li>A PUT or PATCH that includes an award id that doesn't match the id in the url.</li> <li>A POST, PUT, PATCH, or DELETE on an award id that the server is configured to manage exclusively.</li> </ul> <h4 id="examples-17">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/awards</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"gold-medal"</span><span class="p">,</span><span class="nl">"citation"</span><span class="p">:</span><span class="s2">"Gold medal winner"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[</span><span class="s2">"54"</span><span class="p">,</span><span class="s2">"23"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">,</span><span class="s2">"45"</span><span class="p">]},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"first-to-solve-a"</span><span class="p">,</span><span class="nl">"citation"</span><span class="p">:</span><span class="s2">"First to solve problem A"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[</span><span class="s2">"45"</span><span class="p">]},</span><span class="w">
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"first-to-solve-b"</span><span class="p">,</span><span class="nl">"citation"</span><span class="p">:</span><span class="s2">"First to solve problem B"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[]}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> POST https://example.com/api/contests/wf14/awards</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"citation"</span><span class="p">:</span><span class="s2">"Best team costumes"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[</span><span class="s2">"42"</span><span class="p">]}</span><span class="w">
</span></code></pre>  </div></div> <p>Response data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"best-costume"</span><span class="p">,</span><span class="nl">"citation"</span><span class="p">:</span><span class="s2">"Best team costumes"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[</span><span class="s2">"42"</span><span class="p">]}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> PUT https://example.com/api/contests/wf14/awards/best-costume</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"best-costume"</span><span class="p">,</span><span class="nl">"citation"</span><span class="p">:</span><span class="s2">"Best team costumes"</span><span class="p">,</span><span class="nl">"team_ids"</span><span class="p">:[</span><span class="s2">"24"</span><span class="p">]}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> PATCH https://example.com/api/contests/wf14/awards/best-costume</code></p> <p>Request data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"citation"</span><span class="p">:</span><span class="s2">"Best team cosplay"</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> DELETE https://example.com/api/contests/wf14/awards/best-costume</code></p> <h3 id="commentary">Commentary</h3> <p>Commentary on events happening in the contest</p> <p>The following endpoints are associated with commentary:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/commentary</code></td> <td align="left">application/json</td> <td align="left">JSON array of all commentary with properties as specified by <code>/access</code>.</td> </tr> <tr> <td align="left"><code>/contests/&lt;id&gt;/commentary/&lt;id&gt;</code></td> <td align="left">application/json</td> <td align="left">JSON object representing a single commentary with properties as specified by <code>/access</code>.</td> </tr> </tbody> </table> <p>Properties of commentary objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">Identifier of the commentary.</td> </tr> <tr> <td align="left">time</td> <td align="left">TIME</td> <td align="left">Time of the commentary message.</td> </tr> <tr> <td align="left">contest_time</td> <td align="left">RELTIME</td> <td align="left">Contest time of the commentary message.</td> </tr> <tr> <td align="left">message</td> <td align="left">string</td> <td align="left">Commentary message text. May contain special tags referring to endpoint objects using the format <code>{&lt;endpoint&gt;:&lt;object ID&gt;}</code>. This is most commonly used for references to <a href="#teams">teams</a> and <a href="#problems">problems</a> as <code>{teams:&lt;team ID&gt;}</code> and <code>{problems:&lt;problem ID&gt;}</code> respectively.</td> </tr> <tr> <td align="left">tags</td> <td align="left">array of string</td> <td align="left">JSON array of tags describing the message.</td> </tr> <tr> <td align="left">source_id</td> <td align="left">ID ?</td> <td align="left">Source <a href="#persons">person</a> of the commentary message.</td> </tr> <tr> <td align="left">team_ids</td> <td align="left">array of ID ?</td> <td align="left">JSON array of <a href="#teams">team</a> IDs the message is related to.</td> </tr> <tr> <td align="left">problem_ids</td> <td align="left">array of ID ?</td> <td align="left">JSON array of <a href="#problems">problem</a> IDs the message is related to.</td> </tr> <tr> <td align="left">submission_ids</td> <td align="left">array of ID ?</td> <td align="left">JSON array of <a href="#submissions">submission</a> IDs the message is related to.</td> </tr> </tbody> </table> <p>For the message, if a literal <code>{</code> is needed, <code>\{</code> must be used. Similarly for a literal <code>\</code>, <code>\\</code> must be used.</p> <h4 id="known-tags">Known tags</h4> <p>Below is a list of known tags. If any of the tags below are used, they must have the corresponding meaning. If the any of the meanings below are needed, the corresponding tag should be used. There is no requirement that any of the tags below are used.</p> <table> <thead> <tr> <th align="left">Tag</th> <th align="left">Meaing</th> </tr> </thead> <tbody> <tr> <td align="left">submission</td> <td align="left">A submission was made.</td> </tr> <tr> <td align="left">submission-medal</td> <td align="left">A submission was made that if accepted would change the set of teams awarded a medal.</td> </tr> <tr> <td align="left">submission-gold-medal</td> <td align="left">A submission was made that if accepted would change the set of teams awarded a gold medal.</td> </tr> <tr> <td align="left">submission-silver-medal</td> <td align="left">A submission was made that if accepted would change the set of teams awarded a silver medal.</td> </tr> <tr> <td align="left">submission-bronze-medal</td> <td align="left">A submission was made that if accepted would change the set of teams awarded a bronze medal.</td> </tr> <tr> <td align="left">submission-winner</td> <td align="left">A submission was made that if accepted would change the set of teams currently in the lead.</td> </tr> <tr> <td align="left">submission-&lt;award&gt;</td> <td align="left">A submission was made that if accepted would change the set of teams awarded &lt;award&gt;. Note that the above 4 are special cases of this.</td> </tr> <tr> <td align="left">rejected</td> <td align="left">A submission was rejected.</td> </tr> <tr> <td align="left">accepted</td> <td align="left">A submission was accepted.</td> </tr> <tr> <td align="left">accepted-medal</td> <td align="left">A submission was accepted that changed the set of teams awarded a medal.</td> </tr> <tr> <td align="left">accepted-gold-medal</td> <td align="left">A submission was accepted that changed the set of teams awarded a gold medal.</td> </tr> <tr> <td align="left">accepted-silver-medal</td> <td align="left">A submission was accepted that changed the set of teams awarded a silver medal.</td> </tr> <tr> <td align="left">accepted-bronze-medal</td> <td align="left">A submission was accepted that changed the set of teams awarded a bronze medal.</td> </tr> <tr> <td align="left">accepted-winner</td> <td align="left">A submission was accepted that changed the set of teams currently in the lead.</td> </tr> <tr> <td align="left">accepted-&lt;award&gt;</td> <td align="left">A submission was accepted that changed the set of teams awarded &lt;award&gt;. Note that the above 4 are special cases of this.</td> </tr> </tbody> </table> <h4 id="examples-18">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/commentary</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"143730"</span><span class="p">,</span><span class="w"> </span><span class="nl">"time"</span><span class="p">:</span><span class="s2">"2021-03-06T19:02:02.328+00"</span><span class="p">,</span><span class="w"> </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="s2">"0:02:02.328"</span><span class="p">,</span><span class="w"> </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{t:314089} made a submission for {p:anttyping}. If correct, they will solve the first problem and take the lead"</span><span class="p">,</span><span class="w"> </span><span class="nl">"team_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"314089"</span><span class="p">],</span><span class="w"> </span><span class="nl">"problem_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"anttyping"</span><span class="p">]},</span><span class="w"> 
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"143736"</span><span class="p">,</span><span class="w"> </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-06T19:02:10.858+00"</span><span class="p">,</span><span class="w"> </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:02:10.858"</span><span class="p">,</span><span class="w"> </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{t:314089} fails its first attempt on {p:anttyping} due to WA"</span><span class="p">,</span><span class="w"> </span><span class="nl">"team_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"314089"</span><span class="p">],</span><span class="w"> </span><span class="nl">"problem_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"anttyping"</span><span class="p">]},</span><span class="w"> 
 </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"143764"</span><span class="p">,</span><span class="w"> </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-06T19:03:07.517+00"</span><span class="p">,</span><span class="w"> </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:03:07.517"</span><span class="p">,</span><span class="w"> </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{t:314115} made a submission for {p:march6}. If correct, they will solve the first problem and take the lead"</span><span class="p">,</span><span class="w"> </span><span class="nl">"team_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"314115"</span><span class="p">],</span><span class="w"> </span><span class="nl">"problem_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"march6"</span><span class="p">]}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>  </div></div> <h3 id="scoreboard">Scoreboard</h3> <p>Scoreboard of the contest.</p> <p>Since this is generated data, only the <code>GET</code> method is allowed here, irrespective of role.</p> <p>The following endpoint is associated with the scoreboard:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/scoreboard</code></td> <td align="left">application/json</td> <td align="left">JSON object with scoreboard data as defined in the table below.</td> </tr> </tbody> </table> <h4 id="scoreboard-request-options">Scoreboard request options</h4> <p>The following options can be passed to the scoreboard endpoint.</p> <h5 id="group-scoreboard">Group scoreboard</h5> <p>By passing <code>group_id</code> with a valid group ID a scoreboard can be requested for the teams in a particular group:</p> <p><code>/scoreboard?group_id=site1</code></p> <p>Each group scoreboard is ranked independently and contains only the teams that belong to the specified group. If a client wants to know ‘local' vs ‘global' rank it can query both the group and primary scoreboards.</p> <p>A 4xx error code will be returned if the group id is not valid. Groups that are not included in the groups endpoint for the role making the request are not valid.</p> <h4 id="scoreboard-format">Scoreboard format</h4> <p>Properties of the scoreboard object.</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">time</td> <td align="left">TIME</td> <td align="left">Time contained in the <a href="#event-feed">event</a> after which this scoreboard was generated. Implementation defined if the event has no associated time.</td> </tr> <tr> <td align="left">contest_time</td> <td align="left">RELTIME</td> <td align="left">Contest time contained in the associated event. Implementation defined if the event has no associated contest time.</td> </tr> <tr> <td align="left">state</td> <td align="left">object</td> <td align="left">Identical data as returned by the <a href="#contest-state"> contest state</a> endpoint. This is provided here for ease of use and to guarantee the data is synchronized.</td> </tr> <tr> <td align="left">rows</td> <td align="left">array of scoreboard row objects</td> <td align="left">A list of rows of team with their associated scores.</td> </tr> </tbody> </table> <p>The scoreboard <code>rows</code> array is sorted according to rank and alphabetical on team name within identically ranked teams. Here alphabetical ordering means according to the <a href="https://www.unicode.org/reports/tr10/">Unicode Collation Algorithm</a>, by default using the <code>en-US</code> locale.</p> <p>Properties of scoreboard row objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">rank</td> <td align="left">integer</td> <td align="left">Rank of this team, 1-based and duplicate in case of ties.</td> </tr> <tr> <td align="left">team_id</td> <td align="left">ID</td> <td align="left">Identifier of the <a href="#teams"> team</a>.</td> </tr> <tr> <td align="left">score</td> <td align="left">object</td> <td align="left">JSON object as specified in the rows below (for possible extension to other scoring methods).</td> </tr> <tr> <td align="left">score.num_solved</td> <td align="left">integer</td> <td align="left">Number of problems solved by the team. Required iff contest:scoreboard_type is <code>pass-fail</code>.</td> </tr> <tr> <td align="left">score.total_time</td> <td align="left">integer</td> <td align="left">Total penalty time accrued by the team. Required iff contest:scoreboard_type is <code>pass-fail</code>.</td> </tr> <tr> <td align="left">score.score</td> <td align="left">number</td> <td align="left">Total score of problems by the team. Required iff contest:scoreboard_type is <code>score</code>.</td> </tr> <tr> <td align="left">score.time</td> <td align="left">integer</td> <td align="left">Time of last score improvement used for tiebreaking purposes.</td> </tr> <tr> <td align="left">problems</td> <td align="left">array of problem data objects ?</td> <td align="left">JSON array of problems with scoring data, see below for the specification of each object.</td> </tr> </tbody> </table> <p>Properties of problem data objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">problem_id</td> <td align="left">ID</td> <td align="left">Identifier of the <a href="#problems"> problem</a>.</td> </tr> <tr> <td align="left">num_judged</td> <td align="left">integer</td> <td align="left">Number of judged submissions (up to and including the first correct one),</td> </tr> <tr> <td align="left">num_pending</td> <td align="left">integer</td> <td align="left">Number of pending submissions (either queued or due to freeze).</td> </tr> <tr> <td align="left">solved</td> <td align="left">boolean</td> <td align="left">Required iff contest:scoreboard_type is <code>pass-fail</code>.</td> </tr> <tr> <td align="left">score</td> <td align="left">number</td> <td align="left">Required iff contest:scoreboard_type is <code>score</code>.</td> </tr> <tr> <td align="left">time</td> <td align="left">integer</td> <td align="left">Minutes into the contest when this problem was solved by the team. Required iff <code>solved=true</code> or <code>score&gt;0</code>.</td> </tr> </tbody> </table> <h4 id="examples-19">Examples</h4> <p>Request:</p> <p><code> GET https://example.com/api/contests/wf14/scoreboard</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T14:13:07.832+01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4:13:07.832"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"started"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T10:00:00+01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T14:00:00+01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"thawed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finalized"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_of_updates"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"rows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="nl">"rank"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"team_id"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="nl">"score"</span><span class="p">:{</span><span class="nl">"num_solved"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nl">"total_time"</span><span class="p">:</span><span class="mi">340</span><span class="p">},</span><span class="nl">"problems"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="nl">"num_judged"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nl">"num_pending"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"solved"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="nl">"num_judged"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"num_pending"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"solved"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="nl">"num_judged"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"num_pending"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"solved"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="mi">55</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="nl">"num_judged"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"num_pending"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"solved"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"problem_id"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="nl">"num_judged"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nl">"num_pending"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"solved"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"time"</span><span class="p">:</span><span class="mi">205</span><span class="p">}</span><span class="w">
    </span><span class="p">]}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="event-feed">Event feed</h3> <p>Change <a href="#notification-format">notifications</a> (events) of the data presented by the API.</p> <p>The following endpoint is associated with the event feed:</p> <table> <thead> <tr> <th align="left">Endpoint</th> <th align="left">Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>/contests/&lt;id&gt;/event-feed</code></td> <td align="left">application/x-ndjson</td> <td align="left">NDJSON feed of events as defined in <a href="#notification-format">notification format</a>.</td> </tr> </tbody> </table> <p>The event feed is a streaming HTTP endpoint that allows connected clients to receive change notifications. The feed is a complete log of contest objects that starts "at the beginning of time" so all existing objects will be sent upon initial connection, but may appear in any order (e.g. teams or problems first).</p> <p>Each line is an NDJSON formatted notification. The feed does not terminate under normal circumstances, so to ensure keep alive a newline must be sent if there has been no event within 120 seconds.</p> <p>Since this is generated data, only the <code>GET</code> method is allowed for this endpoint, irrespective of role.</p> <h4 id="general-requirements">General requirements</h4> <p>Every notification provides the current state of a single contest object. There is no guarantee on order of events (except for general requirements below), whether two consecutive changes cause one or two events, duplicate events, or even that different clients will receive the same order or set of events. The only guarantees are:</p> <ul> <li>when an object changes one or more times a notification will be sent,</li> <li>the latest notification sent for any object is the correct and current state of that object. E.g. if an object was created and deleted the delete notification will be sent last.</li> <li>when a notification is sent the change it describes must already have happened. I.e. if a client receives an update for a certain endpoint a <code>GET</code> from that endpoint will return that state or possible some later state, but never an earlier state.</li> <li>the notification for the <a href="#contest-state">state endpoint</a> setting <code>end_of_updates</code> must be the last event in the feed.</li> </ul> <h5 id="reconnection">Reconnection</h5> <p>If a client loses connection or needs to reconnect after a brief disconnect (e.g. client restart), it can use the <code>since_token</code> parameter to specify the last notification token it received:</p> <p><code>/event-feed?since_token=xx</code></p> <p>If specified, the server will attempt to start sending events since the given token to reduce the volume of events and required reconciliation. If the token is invalid, the time passed is too large (a server that supports <code>since_token</code> should support an expiry time of at least 15 minutes), or the server does not support this parameter, the request will fail with a 400 error.</p> <p>The client is guaranteed to either get a 400 error or receive at least all changes since the token (but it could also get (a lot) more, e.g. if the server is multithreaded and needs to resend some events to ensure they were received).</p> <h6 id="server-support-for-reconnecting">Server support for reconnecting</h6> <p>Some servers may not support any form of reconnection and may not include any notification tokens, or will always return 400 when the <code>since_token</code> parameter is used.</p> <p>Other servers may support reconnecting, but only at certain checkpoints or time periods. These providers might use timestamps or counters as tokens, or only output them in certain events.</p> <p>Other servers may include tokens in every notification and support reconnecting at any point.</p> <h5 id="examples-20">Examples</h5> <p>The following are examples of contest events:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"problems"</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
   </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"asteroids"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"A"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Asteroid Rangers"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"blue"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#00f"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">10</span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"bottles"</span><span class="p">,</span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"B"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Curvy Little Bottles"</span><span class="p">,</span><span class="nl">"ordinal"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"gray"</span><span class="p">,</span><span class="nl">"rgb"</span><span class="p">:</span><span class="s2">"#808080"</span><span class="p">,</span><span class="nl">"time_limit"</span><span class="p">:</span><span class="mf">3.5</span><span class="p">,</span><span class="nl">"test_data_count"</span><span class="p">:</span><span class="mi">15</span><span class="p">}]}</span><span class="w">
</span></code></pre>  </div></div> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"state"</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"started"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T10:00:00+01"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nl">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T14:00:00+01"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"thawed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nl">"finalized"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nl">"end_of_updates"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">}}</span><span class="w">
</span></code></pre>  </div></div> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"teams"</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="s2">"201433"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Shanghai Tigers"</span><span class="p">,</span><span class="nl">"organization_id"</span><span class="p">:</span><span class="s2">"inst123"</span><span class="p">,</span><span class="nl">"group_id"</span><span class="p">:</span><span class="s2">"asia"</span><span class="p">}}</span><span class="w">
</span></code></pre>  </div></div> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"teams"</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="s2">"201433"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"The Shanghai Tigers"</span><span class="p">,</span><span class="nl">"organization_id"</span><span class="p">:</span><span class="s2">"inst123"</span><span class="p">,</span><span class="nl">"group_id"</span><span class="p">:</span><span class="s2">"asia"</span><span class="p">}}</span><span class="w">
</span></code></pre>  </div></div> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"teams"</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:</span><span class="kc">null</span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <h3 id="webhooks">Webhooks</h3> <p>Webhooks receiving change <a href="#notification-format">notifications</a> (events) of the data presented by the API.</p> <p>The following endpoints are associated with webhooks:</p> <table> <thead> <tr> <th>Endpoint</th> <th>Mime-type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td><code>/webhooks</code></td> <td>application/json</td> <td align="left">JSON array of all webhook callbacks with properties as defined in the table below. Also used to register new webhooks.</td> </tr> <tr> <td><code>/webhooks/&lt;id&gt;</code></td> <td>application/json</td> <td align="left">JSON object representing a single webhook callback with properties as defined in the table below.</td> </tr> </tbody> </table> <p>Properties of webhook callback objects:</p> <table> <thead> <tr> <th align="left">Name</th> <th align="left">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="left">id</td> <td align="left">ID</td> <td align="left">identifier of the webhook.</td> </tr> <tr> <td align="left">url</td> <td align="left">string</td> <td align="left">The URL to post HTTP callbacks to.</td> </tr> <tr> <td align="left">endpoints</td> <td align="left">array of string</td> <td align="left">Names of endpoints to receive callbacks for. Empty array means all endpoints.</td> </tr> <tr> <td align="left">contest_ids</td> <td align="left">array of ID</td> <td align="left">ID's of contests to receive callbacks for. Empty array means all configured contests.</td> </tr> </tbody> </table> <p>A webhook allows you to receive HTTP callbacks whenever there is a change to the contest. Clients are only notified of changes after signing up; they are expected to use other mechanisms if they need to determine the current state of the contest. Every callback will contain one JSON object containing the id of the contest that changed and any number of <a href="#notification-format">notifications</a> objects as follows:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"contest_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"notifications"</span><span class="p">:[</span><span class="w"> </span><span class="err">&lt;JSON</span><span class="w"> </span><span class="err">notification</span><span class="w"> </span><span class="err">format&gt;</span><span class="p">,</span><span class="w"> </span><span class="err">&lt;JSON</span><span class="w"> </span><span class="err">notification</span><span class="w"> </span><span class="err">format&gt;</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Responding to each callback with a 2xx response code indicates successful receipt and ensures that the events in the payload are never sent again. If the client responds with anything other than 2xx, the server will continue to periodically try again, potentially with different payloads (e.g. as new events accumulate). Callbacks to each client are always sent synchronously and in order; clients do not need to worry about getting callbacks out of order and should always process each callback fully before processing the next one.</p> <p>If the client fails to respond to multiple requests over a period of time (configured for each contest), it will be assumed deactivated and automatically removed from future callbacks.</p> <h5 id="adding-a-webhook">Adding a webhook</h5> <p>To register a webhook, you need to post your server's callback URL. To do so, perform a <code>POST</code> request with a JSON body with the properties (except <code>id</code>) from the above table to the <code>/webhooks</code> endpoint together with one additional property, called <code>token</code>. In this property put a client-generated token that can be used to verify that callbacks come from the CCS. If you don't supply <code>contest_ids</code> and/or <code>endpoints</code>, they will default to <code>[]</code>.</p> <h5 id="examples-21">Examples</h5> <p>Request:</p> <p><code> POST https://example.com/api/webhooks</code></p> <p>Payload:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://myurl"</span><span class="p">,</span><span class="w"> </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysecrettoken"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>  </div></div> <p>Request:</p> <p><code> GET https://example.com/api/webhooks</code></p> <p>Returned data:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"icpc-live"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://myurl"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"contest_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">},{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"shadow"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://myotherurl"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"teams"</span><span class="p">,</span><span class="w"> </span><span class="s2">"problems"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"contest_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"wf2014"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>  </div></div> <p>When a system wants to send out a callback, it will check all active webhooks, filter them on applicable endpoint and contest ID and perform a <code>POST</code> to the URL. The system will add a header to this request called <code>Webhook-Token</code> which contains the token as supplied when creating the webhook. Clients should verify that this token matches with what they expect.</p> <p>Client callback:</p> <div class="language-json highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"contest_id"</span><span class="p">:</span><span class="s2">"finals"</span><span class="p">,</span><span class="nl">"notifications"</span><span class="p">:[</span><span class="w">
  </span><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"teams"</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="nl">"icpc_id"</span><span class="p">:</span><span class="s2">"201433"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Shanghai Tigers"</span><span class="p">,</span><span class="nl">"organization_id"</span><span class="p">:</span><span class="s2">"inst123"</span><span class="p">,</span><span class="nl">"group_id"</span><span class="p">:</span><span class="s2">"asia"</span><span class="p">}},</span><span class="w">
  </span><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"submissions"</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"187"</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"187"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"problem_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10-asteroids"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"language_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-java"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T11:22:05.034+01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contest_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1:22:05.034"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entry_point"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"href"</span><span class="p">:</span><span class="s2">"contests/wf14/submissions/187/files"</span><span class="p">,</span><span class="nl">"mime"</span><span class="p">:</span><span class="s2">"application/zip"</span><span class="p">}]}},</span><span class="w">
   </span><span class="p">{</span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"state"</span><span class="p">,</span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"started"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T10:00:00+01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"frozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-25T14:00:00+01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"thawed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"finalized"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_of_updates"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">}}</span><span class="w">
</span><span class="p">]}</span><span class="w">
</span></code></pre>  </div></div> <script async> function versionChange(selectList) { /* TODO: Redirect to same page on the other version instead of the overview. */ window.location.href = window.location.origin + '/' + selectList.value + '/' } var xmlhttp = new XMLHttpRequest(); xmlhttp.onreadystatechange = function() { if (this.readyState == 4 && this.status == 200) { var availableVersions = JSON.parse(this.responseText); var version = document.getElementsByClassName(['version'])[0]; currentVersion = 'draft'; version.innerHTML = ''; var selectList = document.createElement("select"); selectList.id = "versionSelect"; version.appendChild(selectList); for (var i = 0; i < availableVersions.length; i++) { var option = document.createElement("option"); option.value = availableVersions[i]; option.text = availableVersions[i]; selectList.appendChild(option); } selectList.onchange = function(){versionChange(selectList);}; selectList.value = currentVersion; } }; xmlhttp.open("GET", '/versions.json', true); xmlhttp.send(); var links = document.querySelectorAll('[data-ccs-specs-version-item] a'); var version = "draft"; version = version.charAt(0).toUpperCase() + version.slice(1); var spec = version + " Specification"; for (var i = 0; i < links.length; i++) { links[i].innerHTML = spec; } </script> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/draft/ccs_system_requirements" class="btn" title="CCS System Requirements" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"><a href="/draft/contest_package" class="btn" title="Contest Package Format" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2010-2023,</span> <a class="text-gray" href="https://github.com/icpc" rel="noreferrer" target="_blank">ICPC</a> Revision <a class="text-gray" href="https://github.com/icpc/ccs-specs/commit/d147f5f3dbd93a41293aa1934139d112fb45e090" title="d147f5f3dbd93a41293aa1934139d112fb45e090" rel="noreferrer" target="_blank">d147f5f</a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v228">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="rundocs/jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>